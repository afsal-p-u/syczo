(function(d){var m=window.AmazonUIPageJS||window.P,f=m._namespace||m.attributeErrors,b=f?f("DetailPageImageBlockSubAssets@controller","DetailPageImageBlockSubAssets"):m;b.guardFatal?b.guardFatal(d)(b,window):b.execute(function(){d(b,window)})})(function(d,m,f){d.when("A","imageBlockUtils").register("ImageBlockModel",function(b,c){function p(b,a,q,e,n,h){c.isDefined(b)&&(g.type=b);c.isDefined(a)&&(g.index=a);c.isDefined(q)&&(g.thumbnailIndex=q);c.isDefined(e)&&(g.variant=e);c.isDefined(n)&&(g.color=
n);g.shoppableScene=h||null}function k(b){p("image",0,0,"MAIN",b||a.landingAsinColor||a.defaultColor,null)}function e(a){a=a.data;l=b.copy(g);p(a.type,a.index,a.thumbnailIndex,a.variant,a.color,a.shoppableScene)}function h(a){e(a);a=b.copy(a);a.data=b.copy(g);n.dispatch("updateView",a)}function d(){l=b.copy(g);k(g.color)}var a,n,g={},l={},m,f;return function(c,r){n=r;a=c;n.register("updateSelection",h);n.register("updateModel",e);n.register("resetModel",d);this.init=function(){k()};this.getCurrentItem=
function(){return b.copy(g)};this.getPreviousItem=function(){return b.copy(l)};this.setCurrentEvent=function(a){m=a};this.getCurrentEvent=function(){return m};this.setImmersiveViewModalInstance=function(a){f=a};this.getImmersiveViewModalInstance=function(){return f};this.updateTitle=function(b){a.title=b};this.setToPreviousItem=function(){p(l.type,l.index,l.thumbnailIndex,l.variant,l.color,l.shoppableScene)};this.setToCurrentItem=function(a){p(a.type,a.index,a.thumbnailIndex,a.variant,a.color,a.shoppableScene)}}});
"use strict";d.when("imageBlockUtils").register("ImageBlockState",function(b){return function(c,d,k){this.getImageHash=function(e){var h=k.getCurrentItem();e=b.getIndexForVariant(h.color,e||"MAIN",c);return b.getImageHash(h.color,e,c)};this.onImageUpdateForTwister=function(b){d.register("updateSelection",function(c){"swatchClick"===c.type&&"function"===typeof b&&b()})}}});"use strict";d.when("jQuery","ImageBlockModel","ImageBlockView","imageBlockUtils","ImageBlockState").register("ImageBlockController",
function(b,c,d,k,e){var h={};return function(f){var a=this;a.dispatch=function(a,c){a=h[a];k.isDefined(a)&&b.each(a,function(a,b){b.call(m,c)})};a.register=function(a,b){k.isDefined(h[a])||(h[a]=[]);"function"===typeof b&&h[a].push(b)};a.model=new c(f,a);a.view=new d(f,a,a.model);a.api=new e(f,a,a.model);a.init=function(){a.model.init();a.view.init()};a.init()}});"use strict";d.when("jQuery","ImageBlockController","ImageBlockATF","ImageBlockBTF").register("ImageBlock",function(b,c,f,k){b=b.extend(!0,
{},f,k);var e=new c(b);d.register("ImageBlockAPI",function(){return e.api});return e})});
/* ******** */
(function(K){var v=window.AmazonUIPageJS||window.P,aa=v._namespace||v.attributeErrors,T=aa?aa("DetailPageImageBlockSubAssets@baseViews","DetailPageImageBlockSubAssets"):v;T.guardFatal?T.guardFatal(K)(T,window):T.execute(function(){K(T,window)})})(function(K,v,aa){K.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockAdditionalAltImageView",function(p,a,e,N,k,L,G){function I(f,b,t,l,n){if(!e.isjQueryObjDefined(f.find(".a-button-selected"))){var c=
E.getCurrentItem();if(!l||"chromeless-video"!==c.type||!h.autoplayVideo){l=0;"image"===c.type&&(l=Math.max(e.getIndexForVariant(c.color,c.variant,h),0));var g=0;e.isDefined(h.heroImage[c.color])&&(g=h.heroImage[c.color].length);n=l-(b>=h.maxAlts?h.maxAlts-n-g:0);b=0<=n?b+n:l+g;b>=t&&(l=0,b=g);t=e.getImageHash(c.color,l,h);-1!==t&&(M.dispatch("updateModel",{data:{index:l,thumbnailIndex:b,variant:t.variant,type:"image",shoppableScene:t.shoppableScene}}),t=f.find(".item").get(b),e.selectGivenThumbnail(a(t),
f))}}}function H(a){if(!h.useChildVideos)return e.lazyLoadingRequired(E.getCurrentItem(),E,h)?void 0:h.videos;if(h.colorToVideo[a])return h.colorToVideo[a];var b=h.colorToAsin[a];if(b&&b.asin){var f={};f.params={asin:b.asin,productGroupID:h.productGroupID,useAiryVideoPlayer:!0,useChromelessVideoPlayer:h.useChromelessVideoPlayer,isUDP:h.isUDP};h.isDPXFeatureEnabled||(f.success=function(b){videosOnTwisterRefresh(b)},N.load(VIDEO_AJAX_ENDPOINT,f));return h.colorToVideo&&h.colorToVideo[a]}}function w(l,
b,t){if((2===h.unrolledImageBlockTreatment||3===h.unrolledImageBlockTreatment)&&t)return l;var n=H(b),d=e.isDefined(n)&&0<n.length&&h.alwaysIncludeVideo?1:0;b=h.colorImages&&h.colorImages[b];n=l;var c=0;e.isDefined(b)&&(a.each(b,function(b,r){if(c>=h.maxAlts-d&&l<h.maxAlts+h.additionalNumberOfImageAlts){if(2===h.unrolledImageBlockTreatment||3===h.unrolledImageBlockTreatment){var g=a(".thumbItemUnrolled");g[l]?g[l].querySelector("img").src=r.thumb:a('\x3cli class\x3d"thumbItemUnrolled thumbTypeimage thumbIndex'+
b+'"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-button a-button-thumbnail a-button-toggle" id\x3d"a-autoid-'+(l+1)+'"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"a-autoid-'+(l+1)+'-announce"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"a-autoid-'+(l+1)+'-announce"\x3e \x3cimg alt\x3d"" src\x3d"'+r.thumb+'"\x3e \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(a(".regularAltImageViewLayout"))}else e.createThumbnail({type:"image",
index:b,thumbnailIndex:l,variant:r.variant,shoppableScene:r.shoppableScene},r.thumb,f,"imageThumbnail");l++}c++}),L.isEnabled&&G.logAltImgRequestPlacedOnThumbnails(a,L,E),I(f,n,l,t,d));return l}function D(a,b){h.useIV&&e.isDefined(b.hiRes)&&a.css("cursor","pointer")}function C(f,b){if("image"===f.type){var l=a("#image-canvas-caption #canvasCaption"),n=h.staticStrings,d=h.colorImages,c=f.color,g=f.index;if(e.isShoppableScenesEnabled()&&f.shoppableScene)var r=n.clickSceneTagsToShopProducts;else b&&
h.useIV?r=n.clickToExpand:d[c]&&d[c][g].hiRes&&h.useHoverZoom?(r=h.useHoverZoomIpad?n.touchToZoom:h.useClickZoom?n.clickToZoom:n.rollOverToZoom,h.hoverZoomIndicator&&(r="\x3cimg src\x3d'"+h.staticImages.hoverZoomIcon+"'/\x3e\x26nbsp;"+r)):h.useIV&&(r=n.clickToExpand);l.html(r)}}function F(f,b){var l="a-dynamic-image";if(!h.acEnabled){var n;a.each(f.main,function(c,b){e.isDefined(n)||(n=parseFloat(b[1]/b[0])<=parseFloat(h.holderRatio)?" a-stretch-vertical":" a-stretch-horizontal")});l+=n}var d=e.getMaxDimensionsOfMainImage(f.main,
z,h),c=d[0],g=d[1];d=a("\x3cdiv\x3e\x3c/div\x3e");c={"max-height":c,"max-width":g};d.addClass(l).css(c).attr({"data-old-hires":f.hiRes,"data-a-manual-replacement":"true",onload:b}).data("a-dynamic-image",f.main);return d}function u(a,b,e){var f="desktop-dp-atf-ib-shoppablescenes-tags-"+a;"function"==typeof uet&&uet("bb",f,{wb:1});e.attr("data-a-image-name","shoppable-scene:"+a);e=n.find(".mirai-scene-image-block-template").clone().removeClass("mirai-scene-image-block-template aok-hidden").addClass("mirai-shoppable-scene");
e.addClass("celwidget").attr("cel_widget_id",f);e.children("span").css("display","inline-block");M.dispatch("initialize-shoppable-scene",{index:a,shoppableScene:b.shoppableScene,imageSource:b.hiRes||b.large||b.lowRes,$tagPlaceholder:e.find(".mirai-scene-tag-placeholder"),$viewProductsButton:e.find(".mirai-scene-view-products-button")});"MutationObserver"in v&&(new MutationObserver(function(e,c){e.forEach(function(g){"childList"===g.type&&g.target.classList.contains("mirai-scene-image-block-tag-container")&&
1===g.addedNodes.length&&"IMG"===g.addedNodes[0].tagName&&""!==g.addedNodes[0].src&&(g=g.addedNodes[0],"function"!==typeof g.onload&&(g.onload=function(){p.trigger("shoppable-scene-image-loaded",{index:a,shoppableScene:b.shoppableScene})}),c.disconnect())})})).observe(e.find(".mirai-scene-image-block-tag-container")[0],{subtree:!0,childList:!0,attributes:!1});"function"==typeof uet&&uet("cf",f,{wb:1});return e}function y(a,b,f){f=F(a,f);a=e.isShoppableScenesEnabled()&&a.shoppableScene?u(b,a,f):n.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate");
a.addClass("image item itemNo"+b+" maintain-height").attr({"data-csa-c-type":"uxElement","data-csa-c-element-type":"navigational","data-csa-c-action":"image-block-main-image-hover","data-csa-c-posy":b+1});a.find(".placeHolder").replaceWith(f);n.find(".list").append(a);p.loadImageManually(f);return a}function J(a){var b=z.css("height");null!==b&&a.find(".imgTagWrapper").css("height",b);a.addClass("selected");h.imgTagWrapperClasses&&a.find(".imgTagWrapper").addClass(h.imgTagWrapperClasses)}function P(f,
b,l,d){if(2!==h.unrolledImageBlockTreatment&&3!==h.unrolledImageBlockTreatment||d||"unavailable"===f.type){if("image"===f.type||"unavailable"===f.type||"lazy-loaded"===f.type){l=e.getImageHash(f.color,f.index,h);if(-1===l)return b={data:{index:0,thumbnailIndex:0,variant:"",type:"unavailable"}},e.lazyLoadingRequired(f,E,h)||(M.dispatch("updateModel",b),e.showUnavailable(f.color)),-1;d=n.find(".item.itemNo"+f.thumbnailIndex);e.isjQueryObjDefined(d)||(d=y(l,f.thumbnailIndex,b));J(d);M.dispatch("loadMagnifier");
C(f);D(d,l);p.trigger("dp:image-block:update",l)}}else{f=h.colorImages&&h.colorImages[l];b=a(".unrolledImg");l=H(l);var A=e.isDefined(l)&&0<l.length&&h.alwaysIncludeVideo?1:0;b.length>h.maxAlts&&b.each(function(c){c>=h.maxAlts&&a(this).remove()});e.isDefined(f)&&a.each(f,function(c,b){c<h.maxAlts-A+h.additionalNumberOfImageAlts&&c>=h.maxAlts-A&&a('\x3cli data-csa-c-action\x3d"image-block-main-image-hover" data-csa-c-element-type\x3d"navigational" data-csa-c-posy\x3d"'+(c+A+1)+'" data-csa-c-type\x3d"uxElement" class\x3d"image item itemNo'+
(c+A)+' unrolledImg imgMedia"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-declarative" data-action\x3d"main-image-click" data-csa-c-type\x3d"widget" data-csa-c-func-deps\x3d"aui-da-main-image-click" data-main-image-click\x3d"{}" data-ux-click\x3d""\x3e \x3cdiv id\x3d"imgTagWrapperId" class\x3d"imgTagWrapper"\x3e \x3cdiv id\x3d"unrolledImgNo'+(c+A)+'"\x3e \x3cdiv class\x3d"a-image-container a-dynamic-image-container greyBackground" style\x3d"width:100%; height:600px;"\x3e \x3cimg alt\x3d"" src\x3d"'+
b.large+'" data-a-hires\x3d"'+b.hiRes+'"\x3e \x3c/div\x3e \x3c/div\x3e\x3c/div\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(a(".unrolledScrollBox .list-unrolled"))})}}function m(f){var b=E.getCurrentItem().color;h.colorImages[b]||(h.colorImages[b]=f);f={type:"updatedData",data:E.getCurrentItem()};M.dispatch("updateView",f);(b=h.colorToAsin[b])&&b.asin&&K.register(e.rankedImagesReadyEvent(b.asin))}function d(){var f=n.find(".item .imgTagWrapper"),b=e.getContainerHeight(z,h.holderRatio,h.holderMaxHeight);
0<b&&(z.height(b),f.height(b));n.find("img.a-dynamic-image").each(function(){var b=a(this);b.data("a-manual-replacement")&&p.loadDynamicImage(this);var f=b.data("a-dynamic-image");f=e.getMaxDimensionsOfMainImage(f,z,h);b.css({"max-height":f[0]+"px","max-width":f[1]+"px"})})}function l(f){C(E.getCurrentItem(),"mouseenter"===f.type)}var A,h,E,M,f,n,z,S;return function(k,b,t,u){A=this;h=k;E=b;M=u;p.on("triggerImageAjax",m);h.colorImages[h.landingAsinColor]=h.colorImages[h.defaultColor];A.render=function(b,
c,g,r,l,q,d){n=g;f=r;z=l;S=w(c,b,q);q||(c=E.getCurrentItem(),e.lazyLoadingRequired(c,E,h)&&M.dispatch("updateModel",{data:{type:"lazy-loaded"}}));c=E.getCurrentItem();g=!q;e.lazyLoadingRequired(c,E,h)||(a("#imageBlock").css("opacity","1"),n.css("opacity","1"),e.spinner(n,!1),n.find("li").removeClass("selected"),a("#image-canvas-caption #canvasCaption").empty(),e.hideUnavailable(),g&&n.find(".list .item").remove());P(E.getCurrentItem(),d,b,q);return S};A.update=function(b){};h.overrideAltImageClickAction&&
e.addTag("clickEnabledOnAltImages");M.register("imageHover",l);M.register("resize",d)}});"use strict";K.when("A","jQuery","imageBlockUtils").register("ImageBlockAltImageIngressView",function(p,a,e){var v,k,L,G;return function(a,N,w,D){v=this;k=a;L=D;v.render=function(a,w,u,y,D,P,m){G=y;v=this;u=k.maxAlts;y=w;D=k.colorImages[a]?k.colorImages[a].length:0;D+=e.getVideosCount(a,k);a=k.heroImage[a];P=0;a&&(P=a.length);a=D+P;a>u&&(u=a-u,a=G.find(".altIngressTemplate").clone().removeClass("altIngressTemplate").removeClass("aok-hidden").addClass("item"),
u+="+",y={type:"ingress",index:0,thumbnailIndex:w,variant:""},a.find("#altIngressText").append(u),p.declarative.create(a,"thumb-action",y),G.append(a),y=w++);return y};v.update=function(a){"ingress"===a.data.type&&"click"===a.type&&L.dispatch("imageClick",a)}}});"use strict";K.when("A","jQuery","imageBlockUtils","ImageBlockHeroUtils").register("ImageBlockHeroImageView",function(p,a,e,v){function k(l,d,h,m){if(!e.isjQueryObjDefined(l.find(".a-button-selected"))){var A=y.getCurrentItem();if(!m||"chromeless-video"!==
A.type||!u.autoplayVideo){m=0;if("hero-image"===A.type){m=G(A.color,A.variant);if(-1===m)return;m=-1!==m?m:0}var f=d+m;f>=h&&(m=0,f=d);d=v.getHeroImageHash(u,A.color,m);-1!==d&&(J.dispatch("updateModel",{data:{index:m,thumbnailIndex:f,variant:d.variant,type:"hero-image"}}),d=l.find(".item").get(f),e.selectGivenThumbnail(a(d),l))}}}function N(l,d,h){if("hero-video"===y.getCurrentItem().type)return l;d=u.heroImage&&u.heroImage[d];var m=l;e.isDefined(d)&&(a.each(d,function(a,f){l<u.maxAlts&&(e.createThumbnail({type:"hero-image",
index:a,thumbnailIndex:l,variant:f.variant},f.thumb,P,"imageThumbnail"),l++)}),k(P,m,l,h));return l}function G(l,d){var h=u.heroImage;if(1>h.length||!e.isDefined(h[l])||!e.isDefined(d))return-1;var m=-1;a.each(h[l],function(a,f){f.variant===d&&(m=a)});return m}function I(){if(m.length&&u.repositionHeroImage){var a=v.getHeroDimParams(u,y.getCurrentItem());if(e.isDefined(a)){var d=e.isDefined(a.xPos)?a.xPos+"px "+a.yPos+"px ":"center "+a.yPos+"px ";m.css({"background-position":d,"background-size":a.width+
"px "+a.height+"px ","max-width":a.width+"px ","min-height":a.height+"px ",filter:"","-ms-filter":""})}}}function H(a,d,h,k){if(m.length&&a&&d){if("function"===typeof h||k){var l=new Image;l.onload=k?function(){m.css("background-image",'url("'+a+'")')}:h;l.src=a}h=d[1];l=d[0];k||m.css({"background-image":'url("'+a+'")'});if(u.repositionHeroImage&&(d=v.getHeroDimParams(u,y.getCurrentItem(),d),e.isDefined(d))){h=d.width;l=d.height;var f=e.isDefined(d.xPos)?d.xPos+"px "+d.yPos+"px ":"center "+d.yPos+
"px "}m.css({"background-position":f,"background-size":h+"px "+l+"px ","max-width":h+"px ","min-height":l+"px ",filter:"","-ms-filter":""})}}function w(e,d,h,m){e=v.getHeroImageHash(u,e,d);if(-1===e)return-1;d=a.map(e.main,function(a,f){return f})[0];H(d,e.main[d],h,m)}function D(a,e,d){if("hero-image"!==a.type)return-1;var h=G(a.color,y.getCurrentItem().variant);h=-1!==h?h:0;if(-1===v.getHeroImageHash(u,a.color,h))return-1;var l=y.getCurrentItem();a.thumbnailIndex=l.thumbnailIndex;a.type=l.type;
a.variant=l.variant;a.index=h;C(a,e,d)}function C(a,e,h){var l=v.getHeroImageHash(u,a.color,a.index);var k=a&&d&&p.equals(a,d)?!0:!1;d||(d=a);if(!k&&a||e)w(a.color,a.index,e,h),d=a;m.removeClass("hide-background");p.trigger("dp:image-block:update",l)}var F,u,y,J,P,m,d={};return function(d,k,h,p){F=this;u=d;y=k;J=p;u.heroImage[u.landingAsinColor]=u.heroImage[u.defaultColor];F.render=function(e,f,d,h,l,k,b){P=h;m=a("#heroImage");e=N(f,e,k);D(y.getCurrentItem(),b,k);return e};F.update=function(a){var f=
a.data;"ingress"!==f.type&&m.addClass("hide-background");"swatchHover"===a.type?a.captured||(f.type=y.getCurrentItem().type,-1!==D(f)&&(a.captured=!0)):"hero-image"===f.type&&(C(f),"click"!==a.type&&u.usePeekHover||e.selectGivenThumbnail(a.$declarativeParent,P))};J.register("resize",I)}});"use strict";K.when("A","jQuery","imageBlockUtils","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockMagnifierView",function(p,a,e,N,k,L){function G(a){P?a.css("cursor","url('"+C.staticImages.zoomIn+
"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor","zoom-in"))}function I(a){var d=a.match(/\._((\w|,|\.)+)_\.(gif|jpg|png)$/i);a={};if(e.isDefined(d)){d=d[1].split("_");for(var l=0;l<d.length;l++){var m=d[l].match(/^([A-Z]+)(\d+(\.\d+)?)$/);e.isDefined(m)&&(a[m[1]]=parseInt(m[2],10))}}return a}function H(m,d){function l(){if(d.useClickZoom){var a=d.offsetInClickZoom;a=[Math.min(1,Math.max(0,B[0]-(c[0]+a))/(c[2]-2*a)),Math.min(1,Math.max(0,B[1]-(c[1]+a))/
(c[3]-2*a))]}else a=t&&t.updatePosition();if(a&&b&&b.detailSize){var g=[b.detailSize[0]-b.rect.width,b.detailSize[1]-b.rect.height];p.capabilities.rtl?b.detailImage.get(0).style.right=-(a[0]*g[0])+"px":b.detailImage.get(0).style.left=-(a[0]*g[0])+"px";b.detailImage.get(0).style.top=-(a[1]*g[1])+"px"}}function u(a){return a.offsetParent().hasClass("a-dynamic-image-container")}function h(c){var b=U?c.originalEvent.touches[0]||c.originalEvent.changedTouches[0]:"";B=U?[b.pageX,b.pageY]:[c.pageX,c.pageY];
if(p.capabilities.rtl){var g=a(v).width();B=U?[g-b.pageX,b.pageY]:[g-c.pageX,c.pageY]}}function w(a){U&&a.preventDefault();h(a);d.useClickZoom?a=[c[0],c[1],c[0]+c[2],c[1]+c[3]]:(a=t?t.offset:m.offsetParent().offset(),a=C.acEnabled?[a.left,a.top,D.width()+a.left,D.height()+a.top]:[x[0]+a.left,x[1]+a.top,x[0]+x[2]+a.left,x[1]+x[3]+a.top]);B[0]<a[0]||B[1]<a[1]||B[0]>=a[2]||B[1]>=a[3]||C.acEnabled&&!u(m)?(d.fadeMagnifier?Z||(Z=!0,ba=setTimeout(function(){y(!0)},500)):d.useClickZoom||y(),H&&(H=!1,clearTimeout(J))):
(H||(H=!0,J=setTimeout(function(){N.postCountMetric("dppc_hoverZoomOpened");k.isEnabled&&L.logHoverZoomRequestServed(k)},1E3)),d.fadeMagnifier&&Z&&(Z=!1,clearTimeout(ba)),l())}function y(c){c&&z.suppressMagnifier(!0);if(r&&(b&&b.hide(),t&&(t.destroy(),t=null),r=!1,U?(m.unbind("touchmove.magnifier touchstart.magnifier touchend.magnifier"),a(document).trigger("disengaged.magnifier")):a(document).unbind("mousemove.magnifier").trigger("disengaged.magnifier"),n(),c))m.one("click.magnifier touchstart.magnifier",
function(a){f(a,!0)})}function f(g,f){f&&z.suppressMagnifier(!1);if(!r&&!X&&(0===R&&(N.postCountMetric("dppc_hoverTime",new Date-(v.ue&&v.ue.t0||0)),R=1),ea[q]||(N.postCountMetric("dppc_hoverMain"),ea[q]=1),x=[m.position().left,m.position().top,m.width(),m.height()],q&&(h(g),b?b.refit().show():b=new V,d.useClickZoom||(t=t||new O),c=b.getWindowSize(),l()),r=!0,U?(m.unbind("touchstart.magnifier touchmove.magnifier").bind("touchmove.magnifier",w).bind("touchend.magnifier",y),a(document).trigger("engaged.magnifier")):
(C.acEnabled?D.unbind("mousemove.magnifier"):m.unbind("mousemove.magnifier"),a(document).trigger("engaged.magnifier").bind("mousemove.magnifier",w)),f&&(g=a("#zoomWindow"),0<g.length)))g.one("click.magnifier touchend.magnifier",function(a){y(!0)})}function n(){d.useHoverZoom&&(U?m.bind("touchstart.magnifier touchmove.magnifier",f):C.acEnabled?u(m)&&D.bind("mousemove.magnifier",f):m.bind("mousemove.magnifier",f))}var z=this,D=m.offsetParent(),F={detailImageUrl:m.attr("data-old-hires"),location:"over",
locationElement:m,prelaod:"ready",zIndex:50,offsetInClickZoom:50};d=a.extend(F,d);d.adjustment=[10,0,-10,0];var b=null,t=null,B=null,x=null,c=null,g={"null":1,"":1,undefined:1},r=!1,X=!1,q=d.detailImageUrl,U=d.useHoverZoomIpad||0,R=0,ea={},O=function(){function c(a){var c=Math.round(Math.min(m.width(),b.rect.width/a));a=Math.round(Math.min(m.height(),b.rect.height/a));r.css({width:c,height:a});f=[c,a]}var g=this,f=[0,0],e=(b.detailSize&&b.detailSize[0]||5E8)/x[2],q=(b.detailSize&&b.detailSize[1]||
5E8)/x[3];e=q>e?q:e;a("#magnifierLens").remove();var r=a("\x3cdiv id\x3d'magnifierLens' /\x3e").css({position:"absolute"});d.generalImageUrls.zoomLensBackground&&r.css({backgroundImage:"url("+d.generalImageUrls.zoomLensBackground+")"});C.showMagnifierOnHover?G(r):r.css("cursor","pointer");g.updatePosition=function(){var a=[x[2]-f[0],x[3]-f[1]],c=0>=a[0]?.5:Math.max(0,Math.min(1,(B[0]-f[0]/2-x[0]-g.offset.left)/a[0])),b=0>=a[1]?.5:Math.max(0,Math.min(1,(B[1]-f[1]/2-x[1]-g.offset.top)/a[1])),e=x[0]+
Math.round(c*a[0]);a=x[1]+Math.round(b*a[1]);r.get(0).style.left=e+"px";r.get(0).style.top=a+"px";return[c,b]};g.destroy=function(){r.remove()};g.offset=m.offsetParent().offset();c(e);g.updatePosition();r.appendTo(m.parent());b.detailImage[0].complete||b.detailImage.load(function(){var a=b.detailImage.width()/x[2];c(a);g.updatePosition()})};O.preload=function(){z.preload(d.generalImageUrls.lensBackgroundUrl)};var V=function(){function c(){var c={};if("over"===d.location){c=d.useClickZoom;var b={},
q=a("#leftCol"),r=a("#centerCol"),n=a("#rightCol"),l=a("#hover-zoom-end"),U=a("#actionPanelContainer"),O=e.isjQueryObjDefined(q)?q.outerHeight():r.outerHeight();b.top=e.isjQueryObjDefined(q)?q.offset().top:r.offset().top;b.bottom=O+b.top;b.right=e.isjQueryObjDefined(n)?n.offset().left:U.offset().left;b.left=c?0:q.offset().left+q.outerWidth();e.isjQueryObjDefined(l)&&l.offset().top>b.bottom&&(b.bottom=l.offset().top);c=b}else"right"===d.location&&(c=m.offset(),c={left:c.left+m.outerWidth(),top:c.top,
right:c.left+m.outerWidth()+400,bottom:c.top+400});d.minHeightElement&&(c.bottom=Math.max(c.bottom,c.top+a(d.minHeightElement).outerHeight()));c.bottom=Math.min(c.bottom,a(v).scrollTop()+a(v).height());c.left+=f[0];c.top+=f[1];c.right+=f[2];c.bottom+=f[3];c.width=c.right-c.left;c.height=c.bottom-c.top;d.enhancedHoverOverlay&&e.isDefined(v.pageXOffset)&&(b=a(v).width(),c.width=b-c.left+v.pageXOffset-18,c.height-=14);h.css({left:c.left,top:c.top,width:c.width,height:c.height});g.rect=c;return g}function b(c){var a=
new Image;g.detailSize=[0,0];a.onload=function(){g.detailSize=[a.width,a.height];l()};a.src=c.attr("src");if(0<a.width&&0<a.height)g.detailSize=[a.width,a.height];else if(d.detailImageSize)g.detailSize=d.detailImageSize;else{c=I(a.src);var b=x[2]/x[3];c.SS||c.AA?(c=c.SS||c.AA,g.detailSize=[c,c]):c.SX?g.detailSize=[c.SX,Math.round(c.SX/b)]:c.SY?g.detailSize=[Math.round(c.SY*b),c.SY]:c.SL&&(g.detailSize=1<=b?[c.SL,Math.round(c.SL/b)]:[Math.round(c.SL*b),c.SL])}}var g=this,f=d.adjustment;a("#zoomWindow").remove();
var r={overflow:"hidden",position:"absolute",backgroundColor:"white",zIndex:d.zIndex};d.enhancedHoverOverlay&&(r.boxShadow="0 6px 8px 2px rgba(0,0,0,.25)",r.border="1px solid #949494",r.borderColor="rgb(148,148,148)");var h=a("\x3cdiv id\x3d'zoomWindow' /\x3e").css(r);d.fadeMagnifier&&h.fadeIn(200);d.useClickZoom&&(P?h.css("cursor",'url("'+d.zoomOutIcon+'"), auto'):(h.css("cursor","-webkit-zoom-out"),h.css("cursor","-moz-zoom-out"),h.css("cursor","zoom-out")));g.updateImage=function(c){c=a("\x3cimg id\x3d'detailImg' src\x3d'"+
c+"'/\x3e").css("position","absolute");g.detailImage&&g.detailImage.remove();h.append(c);a(document).trigger("updated.magnifier");g.detailImage=c;b(g.detailImage)};g.refit=function(){c();b(g.detailImage);return g};d.fadeMagnifier?(g.show=function(){h.fadeIn(200);return g},g.hide=function(){h.fadeOut(200);return g}):(g.show=function(){h.show();return g},g.hide=function(){h.hide();return g});g.destroy=function(){h.remove();return g};g.getWindowSize=function(){return[g.rect.left,g.rect.top,g.rect.width,
g.rect.height]};g.updateImage(q);c();h.appendTo(document.body)},Z=!1,ba,H=!1,J;z.preload=function(c){c=a.makeArray(c);for(var b=c.length,f=0;f<b;f++)c[f]instanceof Array?z.preload(c[f]):"string"===typeof c[f]&&c[f]&&!g[c[f]]&&(g[c[f]]=new Image,g[c[f]].src=c[f])};z.changeImage=function(c,g){r&&y();q=g;m.attr("src",c);z.preload(c);x=[m.position().left,m.position().top,m.width(),m.height()];g&&("immediately"===d.preload?z.preload(g,!0):a(v).ready(function(){z.preload(g)}),b?b.updateImage(g):m.attr("data-old-hires",
g))};z.destroy=function(){C.acEnabled?D.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier"):m.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier");a(document).unbind("mousemove.magnifier");t&&t.destroy();t=null;b&&b.destroy();b=null};z.detailImage=function(){return b.detailImage};z.suppressMagnifier=function(c){X=c};z.isEngaged=function(){return r};z.engageMagnifier=f;z.disengageMagnifier=y;m[0].complete?n():m.one("load",n);z.preload(m.attr("src"));
v.performance&&performance.now&&v.ue&&ue.count&&ue.count("MagnifierImageDownload",performance.now());if(d.preload){var K=d.detailImageUrl;F=function(){z.preload(K,!0);d.useClickZoom||O.preload()};var W=d.preload;W.constructor!==Array&&(W=[W]);for(var ca=0;ca<W.length;ca++)if("immediately"===W[ca])F();else if(a(v)[W[ca]])a(v)[W[ca]](F);else a(v).bind(W[ca],F)}return z}function w(){if(C.useHoverZoom){var m={adjustment:[0,0,1,1],generalImageUrls:C.staticImages,location:"over",minHeightElement:"#imageBlock",
preload:"ready",zIndex:199,useHoverZoomIpad:C.useHoverZoomIpad,useHoverZoom:C.useHoverZoom,useClickZoom:C.useClickZoom,fadeMagnifier:C.fadeMagnifier,zoomOutIcon:C.staticImages.zoomOutCur,enhancedHoverOverlay:C.enhancedHoverOverlay||C.atfEnhancedHoverOverlay};y&&(y.destroy(),y=aa);var d=J.find(".image.item.selected:not(.mirai-shoppable-scene) img[data-old-hires]").not("[data-old-hires\x3d'']");e.isjQueryObjDefined(d)?C.useClickZoom?(d.one("click.loadmagnifier touchstart.loadmagnifier",function(a){y=
new H(d,m);y.engageMagnifier(a,!0)}),P?d.css("cursor",'url("'+C.staticImages.zoomInCur+'"), auto'):(d.css("cursor","-webkit-zoom-in"),d.css("cursor","-moz-zoom-in"),d.css("cursor","zoom-in"))):y=new H(d,m):k.isEnabled&&L.logHoverZoomApplicability(a,k)}}var D,C,F,u,y,J,P=navigator.userAgent.match(/msie|trident/i);return function(a,e,l,p){D=this;C=a;F=e;k.refToModel=F;u=p;D.render=function(a,e,d,f,n,l){J=d;y&&(y.destroy(),y=aa)};D.update=function(a){};u.register("loadMagnifier",w);u.register("resize",
w)}});"use strict";K.when("A","jQuery","imageBlockUtils","postMetric").register("ImageBlockTwisterView",function(p,a,e,N){function k(a,k,p){a=(a=p?p:e.getColorFromState(k.getState().hovered_variations,I))&&""!==a?a:I.defaultColor;w.dispatch("updateView",{type:"swatchHover",data:{color:a}});N.postCountMetric("swatchHover")}function L(a,k,p,u){a=(a=u?u:e.getColorFromState(k.getState().selected_variations,I))&&""!==a?a:I.defaultColor;a===H.getCurrentItem().color?"function"===typeof p&&p():(w.dispatch("updateSelection",
{type:"swatchClick",data:{color:a},onload:function(){var a={hasComponents:!0,components:[{name:"mainImage"}]};"function"===typeof v.markFeatureRender&&v.markFeatureRender("imageblock",a);p()}}),N.postCountMetric("swatchClick"))}var G,I,H,w;return function(a,e,v,u){G=this;I=a;H=e;w=u;p.on("image-block-twister-swatch-hover",k);p.on("image-block-twister-swatch-click",L);G.render=function(a,e,k,m,d){};G.update=function(a){}}});"use strict";K.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric",
"logFailedInteractionMetric","postEarlyMetric").register("ImageBlockAltImageView",function(p,a,e,N,k,L,G){function I(c,b,g,d){if(!e.isjQueryObjDefined(c.find(".a-button-selected"))){var q=n.getCurrentItem();if(!d||"chromeless-video"!==q.type||!f.autoplayVideo)if(d=0,"image"===q.type&&(d=Math.max(C(q.color,q.variant),0)),!(q.thumbnailIndex>=f.maxAlts&&0!=d)){var r=b+d;r>=g&&(d=0,r=b);b=e.getImageHash(q.color,d,f);-1!==b&&(z.dispatch("updateModel",{data:{index:d,thumbnailIndex:r,variant:b.variant,type:"image",
shoppableScene:b.shoppableScene}}),b=c.find(".item").get(r),e.selectGivenThumbnail(a(b),c))}}}function H(c,g,d){if((2===f.unrolledImageBlockTreatment||3===f.unrolledImageBlockTreatment)&&d)return c;var q=f.colorImages&&f.colorImages[g];g=c;2!==f.unrolledImageBlockTreatment&&3!==f.unrolledImageBlockTreatment||a(".thumbItemUnrolled").each(function(c){(!a(this)[0].classList.contains("thumbTypeimage")||c>=q.length||c>=f.maxAlts)&&a(this).remove()});e.isDefined(q)&&(a.each(q,function(g,d){if(c<f.maxAlts)if(2===
f.unrolledImageBlockTreatment||3===f.unrolledImageBlockTreatment){c++;var r=a(".thumbItemUnrolled");r[g]?r[g].querySelector("img").src=d.thumb:a('\x3cli class\x3d"thumbItemUnrolled thumbTypeimage thumbIndex'+g+'"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-button a-button-thumbnail a-button-toggle" id\x3d"a-autoid-'+c+'"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"a-autoid-'+c+'-announce"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"a-autoid-'+
c+'-announce"\x3e \x3cimg alt\x3d"" src\x3d"'+d.thumb+'"\x3e \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(a(".regularAltImageViewLayout"))}else g={type:"image",index:g,thumbnailIndex:c,variant:d.variant,shoppableScene:d.shoppableScene},d=e.createThumbnail(g,d.thumb,b,"imageThumbnail"),f.collapsibleThumbnails&&e.updateImageThumbnailOverlay(d,g,q),c++}),L.isEnabled&&G.logAltImgRequestPlacedOnThumbnails(a,L,n),I(b,g,c,d));return c}function w(c,a){f.useIV&&e.isDefined(a.hiRes)&&
c.css("cursor","pointer")}function D(c,b){if("image"===c.type){var g=a("#image-canvas-caption #canvasCaption"),d=f.staticStrings,q=f.colorImages,r=c.color,h=c.index;if(e.isShoppableScenesEnabled()&&c.shoppableScene)var n=d.clickSceneTagsToShopProducts;else b&&f.useIV?n=d.clickToExpand:q[r]&&q[r][h].hiRes&&f.useHoverZoom?(n=f.useHoverZoomIpad?d.touchToZoom:f.useClickZoom?d.clickToZoom:d.rollOverToZoom,f.hoverZoomIndicator&&(n="\x3cimg src\x3d'"+f.staticImages.hoverZoomIcon+"'/\x3e\x26nbsp;"+n)):f.useIV&&
(n=d.clickToExpand);g.html(n)}}function C(c,a){return e.getIndexForVariant(c,a,f)}function F(c,a,b){var g=a.thumbnailIndex,e=f.colorToAsin[a.color]&&f.colorToAsin[a.color].asin;a="altImageHover"===b&&x&&x.altImageIdx===g&&x.asin===e&&"swatchClick"===x.event?!0:"swatchHover"===b?x&&x.asin===e&&x.event===b:x&&x.altImageIdx===g&&x.asin===e&&x.event===b;if(!a){var d="#",q=c.find(".imgTagWrapper img").get(0);q&&(d=q.src);c=new Image;c.onload=function(){if(q){q.src=d;var c=q.width,a=q.height,f=q.naturalWidth,
h=q.naturalHeight;try{var n=(Math.abs(c/f*h-a)/a).toFixed(2);.01<n&&(v.ue&&((("landing"!==b||r||X)&&"swatchClick"!==b||v.ue.count("imageBlock-PC-hi_res_image_distortion",1),"landing"===b||"swatchClick"===b)?v.ue.count("imageBlock-PC-hi_res_landing_image_distortion",1):"swatchHover"!==b||X?"altImageHover"!==b||r||(v.ue.count("imageBlock-PC-hi_res_alt_image_distortion",1),r=!0):(v.ue.count("imageBlock-PC-hi_res_swatch_hover_image_distortion",1),X=!0)),v.ueLogError&&(c={logLevel:"WARN",attribution:"imageBlock-PC-hi_res_image_distortion"},
v.ueLogError("swatchHover"===b?{message:"[ImageBlock Hi-Res: Size distortion for ASIN: "+e+" Event:"+b+" Diff:"+n.toString()+"]"}:{message:"[ImageBlock Hi-Res: Size distortion for ASIN: "+e+" at altImageIdx "+g+" Event:"+b+" Diff:"+n.toString()+"]"},c)))}catch(ca){v.ueLogError&&(c={logLevel:"WARN",attribution:"imageBlock-PC-hi_res_log_distortion_catch_exception"},v.ueLogError(ca,c))}}};"#"!==d&&(c.src=d);x.altImageIdx=g;x.asin=e;x.event=b}}function u(c,b){var g="a-dynamic-image";if(!f.acEnabled){var d;
a.each(c.main,function(c,a){e.isDefined(d)||(d=parseFloat(a[1]/a[0])<=parseFloat(f.holderRatio)?" a-stretch-vertical":" a-stretch-horizontal")});g+=d}var r=e.getMaxDimensionsOfMainImage(c.main,B,f),q=r[0],h=r[1];r=a("\x3cdiv\x3e\x3c/div\x3e");q={"max-height":q,"max-width":h};r.addClass(g).css(q).attr({"data-old-hires":c.hiRes,"data-a-manual-replacement":"true",onload:b}).data("a-dynamic-image",c.main);return r}function y(c,a,b){var g="desktop-dp-atf-ib-shoppablescenes-tags-"+c;"function"==typeof uet&&
uet("bb",g,{wb:1});b.attr("data-a-image-name","shoppable-scene:"+c);b=t.find(".mirai-scene-image-block-template").clone().removeClass("mirai-scene-image-block-template aok-hidden").addClass("mirai-shoppable-scene");b.addClass("celwidget").attr("cel_widget_id",g);b.children("span").css("display","inline-block");z.dispatch("initialize-shoppable-scene",{index:c,shoppableScene:a.shoppableScene,imageSource:a.hiRes||a.large||a.lowRes,$tagPlaceholder:b.find(".mirai-scene-tag-placeholder"),$viewProductsButton:b.find(".mirai-scene-view-products-button")});
"MutationObserver"in v&&(new MutationObserver(function(b,g){b.forEach(function(b){"childList"===b.type&&b.target.classList.contains("mirai-scene-image-block-tag-container")&&1===b.addedNodes.length&&"IMG"===b.addedNodes[0].tagName&&""!==b.addedNodes[0].src&&(b=b.addedNodes[0],"function"!==typeof b.onload&&(b.onload=function(){p.trigger("shoppable-scene-image-loaded",{index:c,shoppableScene:a.shoppableScene})}),g.disconnect())})})).observe(b.find(".mirai-scene-image-block-tag-container")[0],{subtree:!0,
childList:!0,attributes:!1});"function"==typeof uet&&uet("cf",g,{wb:1});return b}function J(c,a,b){b=u(c,b);c=e.isShoppableScenesEnabled()&&c.shoppableScene?y(a,c,b):t.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate");c.addClass("image item itemNo"+a+" maintain-height").attr({"data-csa-c-type":"uxElement","data-csa-c-element-type":"navigational","data-csa-c-action":"image-block-main-image-hover","data-csa-c-posy":a+1});c.find(".placeHolder").replaceWith(b);t.find(".list").append(c);
p.loadImageManually(b);p.trigger("dp:image-block:imageBlockImageLoad",a);return c}function P(c){var a=B.css("height");null!==a&&c.find(".imgTagWrapper").css("height",a);c.addClass("selected");f.imgTagWrapperClasses&&c.find(".imgTagWrapper").addClass(f.imgTagWrapperClasses)}function m(c){if(c.isUserGenerated){var a=n.getPreviousItem(),b=c.variant;e.isDefined(b)&&a.thumbnailIndex!==c.thumbnailIndex&&(L.isEnabled&&G.logAltImgRequestServed(L),k.postCountMetric("ImageThumbnailSelectedVariant:"+b),0===
b.indexOf("IG")&&(k.postCountMetric("IGImageSelectedVariant:"+b),k.postCountMetric("IGImageSelectedEvent:"+c.interaction)))}}function d(c,b,g,d){if(2!==f.unrolledImageBlockTreatment&&3!==f.unrolledImageBlockTreatment||d||"unavailable"===c.type){if("image"===c.type||"unavailable"===c.type||"lazy-loaded"===c.type){(h=e.isDefined(b))&&k.postCountMetric("mainImageUpdateOnTwisterVariationClick");g=e.getImageHash(c.color,c.index,f);if(-1===g)return b={data:{index:0,thumbnailIndex:0,variant:"",type:"unavailable"}},
e.lazyLoadingRequired(c,n,f)||(z.dispatch("updateModel",b),e.showUnavailable(c.color)),-1;d=t.find(".item.itemNo"+c.thumbnailIndex);e.isjQueryObjDefined(d)||(d=J(g,c.thumbnailIndex,b),h?(X=r=!1,F(d,c,"swatchClick")):F(d,c,"altImageHover"));P(d);z.dispatch("loadMagnifier");D(c);w(d,g);m(c);p.trigger("dp:image-block:update",g)}}else if(c=f.colorImages&&f.colorImages[g],a(".unrolledImg").each(function(c){a(this).remove()}),e.isDefined(c)){a.each(c,function(c,b){if(c<f.maxAlts){var g=a(".unrolledImg");
g[c]?a(".unrolledImg #unrolledImgNo"+c+" img").replaceWith('\x3cimg alt\x3d"" src\x3d"'+b.large+'" data-a-hires\x3d"'+b.hiRes+'" data-a-manual-replacement\x3d"true"\x3e'):c>=g.length&&a('\x3cli data-csa-c-action\x3d"image-block-main-image-hover" data-csa-c-element-type\x3d"navigational" data-csa-c-posy\x3d"'+(c+1)+'" data-csa-c-type\x3d"uxElement" class\x3d"image item itemNo'+c+' unrolledImg imgMedia"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-declarative" data-action\x3d"main-image-click" data-csa-c-type\x3d"widget" data-csa-c-func-deps\x3d"aui-da-main-image-click" data-main-image-click\x3d"{}" data-ux-click\x3d""\x3e \x3cdiv id\x3d"imgTagWrapperId" class\x3d"imgTagWrapper"\x3e \x3cdiv id\x3d"unrolledImgNo'+
c+'"\x3e \x3cdiv class\x3d"a-image-container a-dynamic-image-container greyBackground" style\x3d"width:100%; height:600px;"\x3e \x3cimg alt\x3d"" src\x3d"'+b.large+'" data-a-hires\x3d"'+b.hiRes+'" data-a-manual-replacement\x3d"true"\x3e \x3c/div\x3e \x3c/div\x3e\x3c/div\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(a(".unrolledScrollBox .list-unrolled"))}});p.loadHiResImage(document.querySelectorAll(".unrolledImg.imgMedia img"));var h=e.isDefined(b);h&&(k.postCountMetric("mainImageUpdateOnTwisterVariationClick"),
b())}}function l(c){var a=Math.max(C(c.color,n.getCurrentItem().variant),0);a=e.getImageHash(c.color,a,f);if(-1===a)return e.lazyLoadingRequired(c,n,f)||e.showUnavailable(c.color),-1;var b=t.find(".swatchHoverExp"),g=u(a);b.find(".imgTagWrapper").html(g);p.loadImageManually(g);k.postCountMetric("mainImageUpdateOnTwisterVariationHover");P(b);F(b,c,"swatchHover");p.trigger("dp:image-block:update",a)}function A(c,b){e.lazyLoadingRequired(c,n,f)||(a("#imageBlock").css("opacity","1"),t.css("opacity","1"),
e.spinner(t,!1),t.find("li").removeClass("selected"),a("#image-canvas-caption #canvasCaption").empty(),e.hideUnavailable(),b&&t.find(".list .item").remove())}function h(){var c=t.find(".item .imgTagWrapper"),b=e.getContainerHeight(B,f.holderRatio,f.holderMaxHeight);0<b&&(B.height(b),c.height(b));t.find("img.a-dynamic-image").each(function(){var c=a(this);c.data("a-manual-replacement")&&p.loadDynamicImage(this);var b=c.data("a-dynamic-image");b=e.getMaxDimensionsOfMainImage(b,B,f);c.css({"max-height":b[0]+
"px","max-width":b[1]+"px"})})}function E(c){D(n.getCurrentItem(),"mouseenter"===c.type)}var M,f,n,z,S,Q,b,t,B,x={},c,g=null,r=!1,X=!1;p.on("triggerImageAjax",function(c){var a=n.getCurrentItem().color;f.colorImages[a]||(f.colorImages[a]=c);c={type:"updatedData",data:n.getCurrentItem()};z.dispatch("updateView",c);(a=f.colorToAsin[a])&&a.asin&&K.register(e.rankedImagesReadyEvent(a.asin))});return function(r,m,p,u){M=this;f=r;n=m;z=u;f.colorImages[f.landingAsinColor]=f.colorImages[f.defaultColor];M.render=
function(r,h,l,q,m,k,p,u){t=2!==f.unrolledImageBlockTreatment&&3!==f.unrolledImageBlockTreatment?l:a(".unrolledScrollBox");b=q;B=m;c=H(h,r,k);k?0===h&&F(t.find(".item.itemNo0"),n.getCurrentItem(),"landing"):(h=n.getCurrentItem(),e.lazyLoadingRequired(h,n,f)&&z.dispatch("updateModel",{data:{type:"lazy-loaded"}}));A(n.getCurrentItem(),!k);2===f.unrolledImageBlockTreatment||3===f.unrolledImageBlockTreatment?"swatchClick"===u&&f&&f.colorImages?(g=f.colorImages[r],d(n.getCurrentItem(),p,r,k)):"updatedData"===
u&&f&&f.colorImages&&f.colorImages[r]!==g&&(g=f.colorImages[r],d(n.getCurrentItem(),p,r,k)):d(n.getCurrentItem(),p,r,k);return c};e.isImageBlockGridViewHoverDelayEnabled()?M.update=function(a){var g=a.data;n.setCurrentEvent(a);"ingress"!==g.type&&"swatchHover"!==a.type&&(n.setToPreviousItem(),"mouseenter"===a.type?(Q&&clearTimeout(Q),Q=setTimeout(function(){n.setToCurrentItem(g);A(a.data,!1)},e.getHoveringDelayTimer())):"mouseleave"===a.type?Q&&clearTimeout(Q):"click"===a.type&&(n.setToCurrentItem(g),
A(a.data,!1)));"swatchHover"===a.type?("ingress"!==g.type&&A(a.data,!1),g.color===n.getCurrentItem().color?d(n.getCurrentItem(),null,g.color,!0):a.captured||-1===l(g)||(a.captured=!0)):"image"===g.type&&(g.interaction=a.type,g.isUserGenerated=!0,"mouseenter"===a.type?(k.postCountMetric("dpcc_imageThumbHovered_"+(g.thumbnailIndex+1)+"_"+c),S&&clearTimeout(S),S=setTimeout(function(){d(g,null,g.color,!0);f.usePeekHover||e.selectGivenThumbnail(a.$declarativeParent,b)},e.getHoveringDelayTimer())):"mouseleave"===
a.type?S&&clearTimeout(S):"click"===a.type&&(d(g,null,g.color,!0),e.selectGivenThumbnail(a.$declarativeParent,b),k.postCountMetric("dpcc_imageThumbClicked_total"),k.postCountMetric("dpcc_imageThumbClicked_"+(g.thumbnailIndex+1)+"_"+c)))}:M.update=function(a){var g=a.data;n.setCurrentEvent(a);"ingress"!==g.type&&A(a.data,!1);"swatchHover"===a.type?g.color===n.getCurrentItem().color?d(n.getCurrentItem(),null,g.color,!0):a.captured||-1===l(g)||(a.captured=!0):"image"===g.type&&(g.interaction=a.type,
g.isUserGenerated=!0,"mouseenter"===a.type&&k.postCountMetric("dpcc_imageThumbHovered_"+(g.thumbnailIndex+1)+"_"+c),d(g,null,g.color,!0),f.usePeekHover&&"click"!==a.type||(e.selectGivenThumbnail(a.$declarativeParent,b),"click"===a.type&&(k.postCountMetric("dpcc_imageThumbClicked_total"),k.postCountMetric("dpcc_imageThumbClicked_"+(g.thumbnailIndex+1)+"_"+c))))};f.overrideAltImageClickAction&&e.addTag("clickEnabledOnAltImages");z.register("imageHover",E);z.register("resize",h)}});"use strict";K.when("A",
"jQuery","imageBlockUtils","postMetric").register("ImageBlockShoppableSceneView",function(p,a,e,v){function k(e,m){e=a("\x3cimg src\x3d'"+(m?u.staticImages.shoppableSceneDotHighlighted:u.staticImages.shoppableSceneDot)+"' alt\x3d''\x3e");e.css({display:m?"none":"inline-block"});e.addClass("mirai-scene-tag").addClass(m?"active-tag":"inactive-tag");return e}function N(e){var m=a("\x3cspan\x3e");p.each(e.tags,function(e){var d=a("\x3cdiv\x3e").css({position:"absolute",left:100*e.left+"%",top:100*e.top+
"%",height:"auto",width:"auto"});d.append(k(e,!1));d.append(k(e,!0));d.bind("mouseenter",function(){G(a(this).find(".mirai-scene-tag[style*\x3d'display: inline-block']"))});p.declarative.create(d,"scenes-show-details-tags-ib",{tagId:e.link});m.append(d)});return m.children()}function G(a){a.addClass("mirai-scene-dot-pulsate");p.delay(function(){a.removeClass("mirai-scene-dot-pulsate")},4E3)}function I(a,e){a.css({display:"none"});e.css({display:"inline-block"})}function H(a,e,d){a.eq(d).css({display:"inline-block"});
e.eq(d).css({display:"none"})}function w(a){K.when("mirai-multi-scene-view").execute("mirai-scene-protected-image-selection",function(){p.trigger("mirai:scene-details-change",{physicalId:a})})}function D(){var e=a("\x3cspan class\x3d'mirai-scene-view-products-button-content'\x3e"),m=a("\x3cimg class\x3d'item-tag'\x3e").attr("src",u.staticImages.shoppableSceneViewProductsButton).addClass("item-tag"),d=a("\x3cspan class\x3d'mirai-scene-view-products-button-text'\x3e");d.html(u.staticStrings.shoppableSceneViewProductsButton);
return e.append(m).append(d)[0].outerHTML}function C(a){function e(){a.$tagPlaceholder.replaceWith(l);var e=l.find(".mirai-scene-tag.active-tag"),d=l.find(".mirai-scene-tag.inactive-tag");H(e,d,0);G(l.find(".mirai-scene-tag[style*\x3d'display: inline-block']"));J=!0;a.$viewProductsButton.removeClass("aok-hidden");"function"==typeof uex&&uex("ld","desktop-dp-atf-ib-shoppablescenes-tags-"+a.index,{wb:1});y=!0;v.postCountMetric("miraiShoppableScenes_imageLoadedCount")}if(a.shoppableScene){var d=a.$viewProductsButton.find(".a-button-text");
if(0===d.children().length){d.append(D());p.declarative.create(a.$viewProductsButton,"scenes-show-details-view-products-ib",{tagId:a.shoppableScene.tags[0].link});var l=N(a.shoppableScene),k=l.find(".mirai-scene-tag.active-tag"),h=l.find(".mirai-scene-tag.inactive-tag"),w=a.shoppableScene.physicalId,y=!1;p.on("mirai:index:change",function(a){a.scenePhysicalId===w&&(a=a.selectedIndices[0],I(k,h),H(k,h,a),G(l.find(".mirai-scene-tag[style*\x3d'display: inline-block']").eq(a)),J=!0)});p.on("mirai:scene-details-change",
function(a){a.physicalId!==w||J||(I(k,h),H(k,h,0),G(l.find(".mirai-scene-tag[style*\x3d'display: inline-block']")),J=!0)});p.on("mirai:no-products-active",function(a){a.scenePhysicalId===w&&I(k,h)});p.on("mirai:set-first-product-active",function(a){a.scenePhysicalId===w&&(I(k,h),H(k,h,0))});p.on("a:image:load:shoppable-scene:"+a.index,function(){y||(e(),v.postCountMetric("miraiShoppableScenes_imageLoadedViaAuiListenerCount"))});p.on("shoppable-scene-image-loaded",function(d){d.index!=a.index||y||
(e(),v.postCountMetric("miraiShoppableScenes_imageLoadedViaMiraiListenerCount"))});K.when("mirai-multi-scene-view").execute("mirai-scene-protected-side-sheet-initialization",function(){p.trigger("mirai:scene-side-sheet-init",{icons:u.staticImages,strings:u.staticStrings});p.trigger("mirai:scene-details-init",{scene:a.shoppableScene,imageSource:a.imageSource})})}}}var F,u,y,J=!1;return function(a,k,d,l){F=this;u=a;y=l;e.isShoppableScenesEnabled()?(y.register("initialize-shoppable-scene",C),F.render=
function(a,e,d,k,f,n,l){},F.update=function(a){"mouseenter"===a.type&&(a.data.shoppableScene?w(a.data.shoppableScene.physicalId):J=!1)}):(a=function(){},F.render=a,F.update=a)}});K.now().register("ShoppableSceneWeblabProvider",function(){return{isEnabled:!0}});"use strict";var T="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"===typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p};K.when("A","jQuery",
"Airy","postMetric","ImageBlockATF","ImageBlockBTF","logFailedInteractionMetric","postEarlyMetric","ShoppableSceneWeblabProvider").register("imageBlockUtils",function(p,a,e,N,k,L,G,I,H){function w(c){return null!==c&&"undefined"!==typeof c}function D(c){var b=0;a.each(c,function(c,a){c=parseInt(a[1],10);c>b&&(b=c)});return b}function C(c){var b=0;a.each(c,function(c,a){c=parseInt(a[0],10);c>b&&(b=c)});return b}function F(c,a,b){a=a.width();if(b.naturalMainImageSize)return a;c=D(c);0<c&&(a=Math.min(a,
c));return a}function u(c,a,b){a=a.height();if(b.naturalMainImageSize)return a;c=C(c);0<c&&(a=Math.min(a,c));return a}function y(c){var b;a.each(c,function(c,a){w(b)||(b=a[1]/a[0])});return b||1}function J(c,b,d,f,h,k,l,p,t,u,v,x,w,y,B){var g=a.extend({},d.foresterMetadataParams);null!==f&&(g.method+="."+f);var r=[];b.disabledViewIds&&(r=b.disabledViewIds);B=B&&B.videoBackgroundChromefulMainView?B.videoBackgroundChromefulMainView:"black";"unrolled-video-add"===y&&(B="transparent");return e.embed({parentElement:c[0],
streamingUrls:b.url,contentId:b.mediaObjectId,contentMinAge:Number(b.minimumAge||"")||0,contentTitle:b.title,swfUrl:d.swfUrl,foresterMetadataParams:g,backgroundColor:B,flashParams:{wmode:"transparent"},slateImages:{preloadSlate:b.slateUrl,postMediaSlate:b.slateUrl},videoAds:d.videoAds,bindings:{play:function(){if("ImmersiveView"===f)n||(n=!0,N.postCountMetric("dppc_chromefulVideoPlayedIV"));else if(z||(z=!0,N.postCountMetric("dppc_chromefulVideoPlayedPV")),!u){var c=N.buildNexusMetric("ib.thumbnailClick",
t,b.mediaObjectId,b.groupType,v,x,w);N.emitNexusMetric(c)}}},cuePoints:[{values:b.durationSeconds-1,type:"position",callback:function(c,a,b){h&&(K(0,k,p),m(l))}}],disabledViewIds:r})}function K(c,a,b){a.fadeTo(500,0,function(){d(c,b);a.fadeTo(500,1)})}function m(c){c&&c.toggle()}function d(c,b){b=b.find("img");w(b[c])&&a(b[c]).click()}function l(c,a){b[c]=a?a:b[c];return b[c]}function A(c,b,e){e=e||Q;e=e.colorImages;if(1>e.length||!w(e[c])||!w(b))return-1;var g=-1;a.each(e[c],function(a,c){c.variant===
b&&(g=a)});return g}function h(c,b,e){e=e||Q;e=e.colorImages;return!(w(e)&&w(e[c])&&w(e[c][b])&&w(e[c][b].main))||1>a.map(e[c][b].main,function(a,c){return c}).length?-1:e[c][b]}function E(a,b,e,d){d.parent().css("z-index",2);0!==e&&0!==b&&(b/=e,a>b?d.css("width",b/a*100+"%"):d.css("height",a/b*100+"%"))}function M(c,b){var g;if(g=c.useIV)g=c.colorImages&&c.colorImages[b]&&0<c.colorImages[b].length?!0:!1;c=g;G.isEnabled&&(G.IVApplicaple=c,I.logImmersiveViewApplicability(a,G));return c}function f(){return 0<
a(".gridImageBlockViewLayoutIn2x4").length||0<a(".gridImageBlockViewLayoutIn2x5").length||0<a(".gridImageBlockViewLayoutIn1x7").length}var n,z,S,Q=a.extend(!0,{},k,L),b={},t=0,B=0,x=/gridAltImageViewLayoutIn(\d+)x(\d+)/g;return{isDefined:w,isDefinedAndEmpty:function(a){return w(a)&&"object"===("undefined"===typeof a?"undefined":T(a))&&0===Object.keys(a).length},isUndefinedOrEmpty:function(a){return w(a)?"object"===("undefined"===typeof a?"undefined":T(a))&&0===Object.keys(a).length:!0},isDefinedAndNotEmpty:function(a){return w(a)?
"object"===("undefined"===typeof a?"undefined":T(a))&&0<Object.keys(a).length:!1},isjQueryObjDefined:function(a){return 0!==a.length},getAspectRatio:y,getMaxHeightOfMainImage:u,getMaxWidthOfMainImage:F,getMaxDimensionsOfMainImage:function(a,b,e){if(e.acEnabled)return[b.height(),b.width()];var c=u(a,b,e);b=F(a,b,e);a=y(a);e=b/a;b=Math.min(b,c*a);c=Math.min(c,e);return[c,b]},getContainerHeight:function(a,b,e){var c=a.get(0);a=0;if(w(c)){a=Math.min(c.offsetWidth/b,e);var g;b=Q.mainImageHeightPartitions;
e=Q.mainImageMaxSizes;if(w(e)&&w(b)){var d=0,f=v.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;for(c=0;c<b.length;c++)f>b[c]&&(d=c+1);e.length>=d&&(g=e[d])}w(g)&&(a=Math.min(g[1],a))}return a},getColorFromState:function(c,b){if(c){b=b||Q;var g="";a.each(b.visualDimensions,function(a,b){c[b]&&(g+=" "+c[b])});return g&&g.substring(1)}},createThumbnail:function(a,b,e,d){var c=e.find(".template").clone().removeClass("template").addClass("item"),g=document.createElement("img");
g.src=b;c.find(".placeHolder").replaceWith(g);(b=a.heroVideoVariant)&&"hero-image"===a.type&&a.variant===b&&c.addClass("heroImageThumbnail");w(d)&&c.addClass(d);f()&&c&&(d=document.createElement("div"),d.className="imageBlockThumbnailImageGrayOverlay",g.parentNode.insertBefore(d,g));p.declarative.create(c,"thumb-action",a);c.attr&&(c.attr("data-ux-click",""),a.type&&a.type.match(/video/)?(c.attr("data-csa-c-type","uxElement"),c.attr("data-csa-c-element-type","navigational"),c.attr("data-csa-c-action",
"image-block-alt-image-clickToImmersiveVideos")):(c.attr("data-csa-c-type","uxElement"),c.attr("data-csa-c-element-type","navigational"),c.attr("data-csa-c-action","image-block-alt-image-hover")),c.attr("data-csa-c-posy",a.thumbnailIndex+1));e.append(c);return c},updateImageThumbnailOverlay:function(a,b,e){a.find(".textMoreImages").append(e.length-b.thumbnailIndex+"+")},selectGivenThumbnail:function(a,b){a=a.find(".a-button");b.find(".a-button").removeClass("a-button-selected").removeClass("a-button-focus");
a.addClass("a-button-selected").addClass("a-button-focus")},createAiryInstanceForChromeful:function(a,b,e,d,f,h,n,k){J(a,b,e,d,f,h,n,k,0,1,"","","")},createAiryInstanceForChromefulNotUseTabbedImmersiveView:J,loadMediaIntoAiry:function(a,b,e,d){a&&a.getMediaSourceInfo()!==b.url&&(d?a.loadMedia?(S={mediaSourceInfo:[b.url],contentId:b.mediaObjectId,refTag:"vse_ib_tablet_web"},a.loadMedia(S)):a.play({videoUrl:b.url,imageUrl:b.slateUrl,mimeType:"video/mp4",contentId:b.mediaObjectId,refTag:"vse_ib_tablet_web"}):
a.loadMedia?a.loadMedia({mediaSourceInfo:b.url,contentId:b.mediaObjectId,contentMinAge:Number(b.minimumAge||"")||0,contentTitle:b.title,slateImages:{preloadSlate:b.slateUrl,postMediaSlate:b.slateUrl}}):a.setInitialData({videoUrl:b.url,mimeType:"video/mp4",contentId:b.mediaObjectId,imageUrl:b.slateUrl}))},showUnavailable:function(b){b&&(a("#imageBlock .unvailableVariation").html(b),a("#imageBlock .variationUnavailable").show())},hideUnavailable:function(){a("#imageBlock .variationUnavailable").hide()},
fadeToThumbnail:K,toggleVideoCaption:m,selectThumbnail:d,spinner:function(b,e){var c=a("#imageBlock .a-spinner").parent();0===c.length&&(c=a("\x3cdiv\x3e\x3c/div\x3e").append(a("\x3cspan\x3e\x3c/span\x3e").addClass("a-spinner").addClass("a-spinner-medium")),b.append(c),c.css({position:"absolute",left:"50%",top:"50%",transform:"translate3d(-50%, -50%, 0)","-webkit-transform":"translate3d(-50%, -50%, 0)","z-index":"3",width:"48px",height:"48px",border:"8px solid #FFFFFF","-webkit-border-radius":"20px",
"-moz-border-radius":"20px","border-radius":"100%"}));e?c.show():c.hide();return c},rankedImagesReadyEvent:function(a){return"ranked-images-ready-for-"+a},ajaxState:l,getIndexForVariant:A,getImageHash:h,lazyLoadingRequired:function(a,b,e){b=Math.max(A(a.color,b.getCurrentItem().variant,e),0);b=-1!==h(a.color,b,e);a=e.colorToAsin[a.color]&&e.colorToAsin[a.color].asin;a=!a||"success"!==l(a);return!e.lazyLoadExperienceDisabled&&!b&&a},lazyLoadOnHoverEnabled:function(a){return!a.lazyLoadExperienceOnHoverDisabled},
updateAspectRatio:E,repositionVideoBanner:function(a,b,e,d){setTimeout(function(){var c=a.width()/a.height();E(c,16,9,b)},d||0)},getVideosCount:function(a,b){return b.useChildVideos&&b.colorToVideo[a]?b.colorToVideo[a].length:b.videos?b.videos.length:0},getVideoHash:function(a,b,e){if(e.useChildVideos){if(!w(e.colorToVideo))return-1;a=e.colorToVideo[a]}else a=e.videos;return w(a)&&w(a[b])&&w(a[b].url)?a[b]:-1},isImmersiveViewEnabled:M,playVideoInImmersiveView:function(a,b){return M(a,b)&&a.useTabbedImmersiveView},
useTabbedImmersiveView:function(a){return a.useTabbedImmersiveView},getMediaSourceInfo:function(){return w(S)?S.mediaSourceInfo[0]:""},getNilgiriServiceAjaxRequest:function(a,b,e){return{requester:"DetailPageTablet",marketplaceID:e.marketPlaceID,clientPrefix:"ImageBlock_tablet",locale:e.languageCode,page:"DetailPageTablet",placement:"ImageBlock",metadata:{shouldPreload:!1},video:{videoURL:e.url,imageURL:e.slateUrl}}},addTag:function(a){v.ue&&v.ue.tag&&v.ue.tag(a)},isShoppableScenesEnabled:function(){return H.isEnabled&&
0<a(".mirai-scene-image-block-template").length},isImageBlockGridViewDisplayEnabled:f,isImageBlockGridViewHoverDelayEnabled:function(){return 0<a(".gridImageBlockViewLayoutIn2x4").length||0<a(".gridImageBlockViewLayoutIn2x5").length},getHoveringDelayTimer:function(){return t},updateThumbnailHoverDelay:function(a){if(w(a)){t=0;var b=a.closest("li");b=b.parent().children("li").filter(":not(.aok-hidden, .template, .pos-360)").index(b);if(-1!==b){var c=B;a=a.closest("ul").attr("class");a===aa?c=!1:(a=
x.exec(a),null===a||3!==a.length?c=!1:(a=a[2],c=Math.floor(c/a)>Math.floor(b/a)));c&&(t=100);B=b}}},logError:function(a,b,e,d){v.ueLogError&&v.ueLogError(d,{logLevel:a,attribution:b,message:e})}}});"use strict";K.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","vse_ns_videoPlayer").register("ImageBlockVideoView",function(p,a,e,N,k,L){function G(c,d,g,f){!b.autoplayVideo||ka||b.useChromelessVideoPlayer?!e.isjQueryObjDefined(c.find(".a-button-selected"))&&(g=t.getCurrentItem(),!f||
b.prioritizeVideos||"chromeless-video"===g.type&&b.autoplayVideo)&&(f=e.getVideoHash(g.color,0,b),-1===f||g.thumbnailIndex>=b.maxAlts-1||(d+=0,B.dispatch("updateModel",{data:{index:0,thumbnailIndex:d,variant:f.variant,type:b.useChromelessVideoPlayer?"chromeless-video":"chromeful-video"}}),d=c.find(".item").get(d),e.selectGivenThumbnail(a(d),c))):(e.selectGivenThumbnail(c.find("img:last"),c),e.fadeToThumbnail(c.find("img").length-1,r,c))}function I(a){var c=t.getCurrentItem().color;if(b.useChildVideos&&
!b.colorToVideo[c]){var d=function(){if(a){b.colorToVideo[c]=a;var e={type:"updatedData",data:t.getCurrentItem()};B.dispatch("updateView",e)}};b.lazyLoadExperienceDisabled?d():K.when(e.rankedImagesReadyEvent(b.colorToAsin[c].asin)).execute(function(){d()})}}function H(a){a&&(b.notShowVideoCount=a,a={type:"updatedData",data:t.getCurrentItem()},B.dispatch("updateView",a))}function w(a){if(!b.useChildVideos)return e.lazyLoadingRequired(t.getCurrentItem(),t,b)?void 0:b.videos;if(b.colorToVideo[a])return b.colorToVideo[a];
var c=b.colorToAsin[a];if(c&&c.asin){var d={};d.params={asin:c.asin,productGroupID:b.productGroupID,useAiryVideoPlayer:!0,useChromelessVideoPlayer:b.useChromelessVideoPlayer,isUDP:b.isUDP};b.isDPXFeatureEnabled||(d.success=function(a){I(a)},N.load("/gp/product/features/apparel-main-image/videos.html",d));return b.colorToVideo&&b.colorToVideo[a]}}function D(a){q&&null===a&&2!==b.unrolledImageBlockTreatment&&3!==b.unrolledImageBlockTreatment&&(q.hide(),c.parent().css("z-index",-1),g.hide())}function C(a,
d,g){d=r.width()/r.height();var f=parseInt(a.videoWidth,10),h=parseInt(a.videoHeight,10);e.updateAspectRatio(d,f,h,c);if(q&&"unrolled-video-add"!==g)q.show(),e.loadMediaIntoAiry(q,a,U,b.tabletWeb);else if(b.tabletWeb)q=O;else{if("unrolled-video-add"===g){q=O;return}if(null===O||O===aa)Y=setInterval(function(){q=O;q!==aa&&null!==q&&(q.show(),e.loadMediaIntoAiry(q,a,U,b.tabletWeb),F(),m(q),clearInterval(Y),Y=null)},500);else if(q=O,q!==aa&&null!==q){q.show();e.loadMediaIntoAiry(q,a,U,b.tabletWeb);F();
m(q);return}}F();m(q)}function F(){if(2!==b.unrolledImageBlockTreatment&&3!==b.unrolledImageBlockTreatment)if(e.useTabbedImmersiveView(b)){if(1<e.getVideosCount(t.getCurrentItem().color,b)){if(e.isDefined(X)){g.show();return}X=a('\x3ca class\x3d"more-videos"\x3e\x3c/a\x3e').attr("href","#").text(b.staticStrings.watchMoreVideos);g.find("#videoCaption").append(X);p.declarative.create(X,"videoIngressClick",R)}e.playVideoInImmersiveView(b,t.getCurrentItem().color)&&(p.declarative.create(c,"videoIngressClick",
R),c.attr&&c.attr("data-ux-click",""),c.children().css("z-index","-1"),c.css("display","inline-block"))}else g.find("#videoCaption").text(b.staticStrings.playVideo),g.show()}function u(a,c){if("chromeful-video"===a.type||"chromeless-video"===a.type||"unrolled-video-add"===c){var d=e.getVideoHash(a.color,a.index,b);if(-1===d)return-1;"chromeful-video"===a.type&&C(d,a.thumbnailIndex+1,c)}}function y(c,d,g){if((2===b.unrolledImageBlockTreatment||3===b.unrolledImageBlockTreatment)&&g)return c;var f=w(d);
d=c;var h=a(".unrolledImg"),l=e.isDefined(f)&&0<f.length&&b.alwaysIncludeVideo?1:0;e.isDefined(f)&&0<f.length&&!b.alwaysIncludeVideo&&c===b.maxAlts&&k.postCountMetric("IBVideoDrop");h.length>b.maxAlts&&h.each(function(c){c>=b.maxAlts&&a(this).remove()});l&&c===b.maxAlts&&(2===b.unrolledImageBlockTreatment||3==b.unrolledImageBlockTreatment?(a(".thumbItemUnrolled").last().remove(),a(".unrolledImg").last().remove()):x.find(".item:last").remove(),c--);e.isDefined(f)&&(a.each(f,function(d,g){if(c<b.maxAlts){if(2===
b.unrolledImageBlockTreatment||3===b.unrolledImageBlockTreatment){var h=b.useChromelessVideoPlayer?"chromeless-video":"chromeful-video";a('\x3cli class\x3d"thumbItemUnrolled thumbType'+h+" thumbIndex"+d+'"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-button a-button-thumbnail a-button-toggle" id\x3d"a-autoid-'+c+'"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"a-autoid-'+c+'-announce"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"a-autoid-'+
c+'-announce"\x3e \x3cimg alt\x3d"" src\x3d"'+g.thumb+'"\x3e \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(a("ul.regularAltImageViewLayout"));a('\x3cli data-csa-c-action\x3d"image-block-main-image-hover" data-csa-c-element-type\x3d"navigational" data-csa-c-posy\x3d"'+c+'" data-csa-c-type\x3d"uxElement" class\x3d"image item itemNo'+c+' unrolledImg videoMedia"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-declarative" data-action\x3d"main-image-click" data-csa-c-type\x3d"widget" data-csa-c-func-deps\x3d"aui-da-main-image-click" data-main-image-click\x3d"{}" data-ux-click\x3d"" \x3e \x3cdiv id\x3d"imgTagWrapperId" class\x3d"imgTagWrapper"\x3e\x3cdiv id\x3d"unrolledImgNo'+
c+'" class\x3d"videoIndex'+d+'"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/span\x3e\x3c/span\x3e\x3c/li\x3e').appendTo(a(".unrolledScrollBox .list-unrolled"));b.dp60InLastPositionUnrolledImageBlock||2!==b.dp60VideoPosition||J(a(".regularAltImageViewLayout"),b.dp60VideoPosition)}else{h=b.useChromelessVideoPlayer?"chromeless-video":"chromeful-video";var n={type:h,index:d,thumbnailIndex:c,variant:g.variant};R={type:"video-ingress",index:d,thumbnailIndex:c,variant:g.variant};e.useTabbedImmersiveView(b)&&("chromeful-video"===
h&&(ia+=" videoBlockIngress  videoBlockDarkIngress",g.thumb=g.thumb.replace("_PKmb-play-button-overlay-thumb","")),b.altsOnLeft||(ia+=" a-align-top"));e.isImageBlockGridViewDisplayEnabled()&&(ia+=" videoImageBlockGridView");e.createThumbnail(n,g.thumb,x,ia);2===b.dp60VideoPosition&&J(x,b.dp60VideoPosition);e.useTabbedImmersiveView(b)&&(P(x.find(".videoBlockIngress img"),b.videoIngressATFSlateThumbURL),d=1<f.length?"multiple-videos":"one-video",(n=!0===b.notShowVideoCount?b.staticStrings.multipleVideos:
1<f.length?f.length+" "+b.staticStrings.multipleVideos:b.staticStrings.singleVideo)&&x.find(".videoBlockIngress").append(x.find("#videoCount_template").clone().text(n).attr("id","videoCount")).addClass(d));g=k.buildNexusMetric("ib.thumbnailRender",c+1,g.mediaObjectId,g.groupType,Z,V,ba,da);k.emitNexusMetric(g);ca||(ca=!0,k.postCountMetric("chromeless-video"===h?"dppc_chromelessVideoAvailable":"dppc_chromefulVideoAvailable"))}c++}if(e.useTabbedImmersiveView(b))return!1}),G(x,d,c,g),M(n),b.imageBlockRenderingStartTime&&
k.postTimeMetric("vse_desktop_ib_video_ingress_enable_duration",p.now()-b.imageBlockRenderingStartTime));return c}function J(c,e){if(0!==e)if(2===b.unrolledImageBlockTreatment||3===b.unrolledImageBlockTreatment){var d=b.useChromelessVideoPlayer?"chromeless-video":"chromeful-video",g=c.children(".thumbTypeimage");c=c.children(".thumbType"+d);g&&c&&g[e-1]&&a(g[e-1]).before(c[0]);c=a(".unrolledScrollBox .list-unrolled");g=c.children(".unrolledImg.imgMedia");c=c.children(".unrolledImg.videoMedia");g&&
c&&g[e-1]&&a(g[e-1]).before(c[0]);a(".unrolledScrollBox .list-unrolled").children(".unrolledImg").each(function(b){for(var c=null,e=0;e<this.classList.length;e++)this.classList[e].includes("itemNo")&&(c=e);null!==c&&a(this).removeClass(this.classList[c]).addClass("itemNo"+b);this.querySelectorAll("div")[1].id="unrolledImgNo"+b})}else g=c.children(".imageThumbnail"),c=c.children(".videoBlockIngress"),g&&c&&g[e-1]&&a(g[e-1]).before(c[0])}function P(a,b){var c=a.attr("src");c&&b&&(a.attr("src",b),b=
new Image,b.onload=function(b){a.attr("src",c)},b.src=c)}function m(a){b.autoplayVideo&&a&&!ka&&(e.toggleVideoCaption(g),a.setVolume(0),a.show(),a.play(),ka=!0)}function d(c){q&&q.pause();c.data=R;c.clickTimeStamp=c.$event.timeStamp;var e="a"===c.targetTag?"dpcc_videoIngressLink":"dpcc_videoIngressSlate";B.dispatch("imageClick",c);k.postTimeMetric("dpcc_vse_videoingressclick",c.$event.timeStamp);c=k.buildNexusMetric("ib.thumbnailClick",c.data.thumbnailIndex+1,b.videos[0].mediaObjectId,b.videos[0].groupType,
Z,V,ba,da);k.emitNexusMetric(c);k.postCountMetric(e);a("#main-video-container .vjs-control-bar").css("display","none");a("#main-video-container .vjs-poster").css("display","inline-block")}function l(b){null!==q&&q!==aa&&(q.frame&&q.frame.remove(),q=null,O.frame&&O.frame.remove(),O=null);O=b.player;a("#main-video-container .vse-airy-container.vse-player-container").css("min-width","auto");O.hide=function(){O.pause();p.$("#main-video-container").find(".vse-player-container").hide()};O.show=function(){p.$("#main-video-container").find(".vse-player-container").show()};
O.getMediaSourceInfo=function(){return e.getMediaSourceInfo()}}function A(f,h,n,k,l,m){D(m);c=null!==m?a("#unrolledImgNo"+m.thumbnailIndex):k.find("#main-video-container");g=null!==m?"":c.parent().find("#video-canvas-caption");r=null!==m?a(".unrolledScrollBox"):a("#main-image-container");null===m&&e.isImageBlockGridViewDisplayEnabled()&&(c.addClass("videoCenter"),k.find("#video-outer-container").addClass("videoWrapperCenter"));Z=v.location.href;f=t.getCurrentItem().color;!0===l?V=b.mediaAsin:(V=b.colorToAsin[f]&&
b.colorToAsin[f].asin,V=e.isDefined(V)?V:b.mediaAsin);b.useChromelessVideoPlayer||c.addClass("chromeful-container");null!==m?u(m,"unrolled-video-add"):u(t.getCurrentItem(),"");e.useTabbedImmersiveView(b)&&p.declarative("videoIngressClick",["click"],d);if(-1!==q&&null!==m){f=t.getCurrentItem().color;var q=e.getVideoHash(f,m.index,b);L.get(p,"#unrolledImgNo"+m.thumbnailIndex,{requester:"MediaBlockSoftlines",marketplaceID:q.marketPlaceID,clientPrefix:"mbSoftlines"+m.thumbnailIndex,locale:q.languageCode,
page:"Detail",metadata:{placementcontext:"mb_sl",alwaysSetInitialVideo:!1},placement:"ImageBlock",video:{videoURL:q.url,imageURL:q.slateUrl}},function(){p.$("#unrolledImgNo"+m.thumbnailIndex).find(".vse-player-container").show()},function(){p.$("#imageBlock #altImages ul").find("li.videoThumbnail").hide()})}}function h(a,b){function c(a){a=Math.floor((x.width()-1)/f);a=e?a-1:a;b.slice(a).hide();b.slice(0,a).show();b.removeClass("overlayRestOfImages");a<b.length&&b.eq(a-1).addClass("overlayRestOfImages")}
var e=0!=x.find(".item.videoThumbnail").length,d=b.eq(0).width(),g=b.eq(1).position().left-b.eq(0).position().left-d,f=d+g;c();a.register("resize",c)}function E(a){var b=x.find(".item.imageThumbnail");if(!(1>=b.length)){var c=b.eq(0).find("img").get(0);c!==aa&&c.decode().then(function(){h(a,b)})}}function M(a){try{if(!a)return!1;la=a;fa=document.querySelectorAll("#imageBlock #altImages ul li.videoThumbnail");a={root:null,rootMargin:"0%",threshold:.75};null!==ja&&ja.disconnect();0<fa.length&&(ja=new IntersectionObserver(f,
a));fa.forEach(function(a){ja.observe(a)})}catch(pa){k.postCountMetric("ib_dsktp_thumb_impr_intersection_obs_failed")}}function f(a){la(a,ma,oa,fa,na)}function n(b,c,e,d,g){try{a.each(b,function(b,g){var f=a(d).index(g.target);g.isIntersecting?(c=c.slice(),c.push(f)):c=c.filter(function(a){return a!==f});e=c.sort(function(a,b){return a-b})});var f=z(e,g);if(0!==f.length&&0!==e.length){var h=t.getCurrentItem().color,n=w(h);S(n,f)}}catch(ra){k.postCountMetric("ib_dsktp_thumbnail_on_intersection_failed")}}
function z(a,b){return b=a=a.slice().filter(function(a){return 0>b.indexOf(a)})}function S(b,c){try{if(!b||!c||0===b.length||0===c.length)return!1;a.each(c,function(a,c){if(c=1===fa.length?b[0]:b[c])a=k.buildNexusMetric("ib.thumbnailImpression",a+1,c.mediaObjectId,c.groupType,v.location.href,V,ba,da),k.emitNexusMetric(a)})}catch(qa){k.postCountMetric("ib_dsktp_thumbnail_impression_failed")}}var Q,b,t,B,x,c,g,r,X,q,U,R,ea,O,V,Z,ba,da,T,ha,W,ca=!1,ka=!1,ia="videoThumbnail",Y=null,ja=null,oa,na=[],fa,
ma=[],la=null;return function(d,f,h,n){Q=this;b=d;t=f;B=n;U=b.airyConfig;ba=b.contentWeblab&&b.contentWeblab+":"+b.contentWeblabTreatment;b.colorToVideo={};b.colorToVideo[b.landingAsinColor]=b.colorToVideo[b.defaultColor]=b.videos;b.tabletWeb?(T="tablet",da="applicationType.ImageBlock.vse_ib_tablet_web"):p.capabilities.tablet?(T="tablet",p.capabilities.isAmazonApp&&(da="applicationType.ImageBlock.vse_ib_tablet_app")):(T="desktop",da="desktop_web.ImageBlock.vse_ib_iv");Q.render=function(d,f,h,n,k,
l){null!==Y&&(clearInterval(Y),Y=null,c&&c.parent&&c.parent().css("z-index",-1),g&&g.hide&&g.hide());var m=[];if(2===b.unrolledImageBlockTreatment||3===b.unrolledImageBlockTreatment){x=a("ul.regularAltImageViewLayout");ea=y(f,d,l);m=[];f=a(".thumbItemUnrolled").filter(function(){return this.classList.contains("thumbTypechromeful-video")||this.classList.contains("thumbTypechromeless-video")});for(var q=0;q<f.length;q++){var r=f[q].classList.contains("thumbTypechromeful-video")?"chromeful-video":"chromeless-video",
u=Number(f[q].classList[2].slice(10)),v=a(".thumbItemUnrolled").index(f[q]);m.push({color:d,thumbnailIndex:v,type:r,varient:"MAIN",index:u})}for(q=0;q<m.length;q++)A(d,h,n,k,l,m[q])}else x=n,ea=y(f,d,l),A(d,h,n,k,l,null),d=t.getCurrentItem().color,h=e.getVideoHash(d,0,b),-1!==h&&(d=b.tabletWeb?e.getNilgiriServiceAjaxRequest(b,d,h):{requester:"MediaBlockSoftlines",marketplaceID:h.marketPlaceID,clientPrefix:"mbSoftlines",locale:h.languageCode,page:"Detail",metadata:{placementcontext:"mb_sl",alwaysSetInitialVideo:!1},
placement:"ImageBlock",video:{videoURL:h.url,imageURL:h.slateUrl}},L.get(p,"#main-video-container",d,function(){p.$("#main-video-container").find(".vse-player-container").hide()},function(){p.$("#imageBlock #altImages ul").find("li.videoThumbnail").hide()}));b.collapsibleThumbnails&&E(B);return ea};Q.setupIntersectionObserverToWatchVideoThumbnail=M;Q.emitMultipleImpressionMetric=S;e.isImageBlockGridViewHoverDelayEnabled()?Q.update=function(a){null!==Y&&(clearInterval(Y),Y=null,c&&c.parent&&c.parent().css("z-index",
-1),g&&g.hide&&g.hide());var d=a.data;"ingress"===d.type||"swatchHover"===a.type||e.lazyLoadingRequired(d,t,b)||(t.setToPreviousItem(),"mouseenter"===a.type?(W&&clearTimeout(W),W=setTimeout(function(){t.setToCurrentItem(d);D(null)},e.getHoveringDelayTimer())):"mouseleave"===a.type?W&&clearTimeout(W):"click"===a.type&&(t.setToCurrentItem(d),D(null)));if("swatchHover"===a.type)"ingress"===d.type||e.lazyLoadingRequired(d,t,b)||D(null),d.color===t.getCurrentItem().color?u(t.getCurrentItem(),""):a.captured||
e.lazyLoadingRequired(d,t,b)&&!e.lazyLoadOnHoverEnabled(b)&&u(t.getCurrentItem(),"");else if("chromeful-video"===d.type||"chromeless-video"===d.type){var f=e.getVideoHash(d.color,d.index,b);"mouseenter"===a.type?(k.postCountMetric("dpcc_videoThumbHovered_"+(d.thumbnailIndex+1)+"_"+ea),"chromeless-video"===d.type&&(f=k.buildNexusMetric("ib.thumbnailHover",d.thumbnailIndex+1,f.mediaObjectId,f.groupType,Z,V,ba,da),k.emitNexusMetric(f)),ha&&clearTimeout(ha),ha=setTimeout(function(){u(d,"");!b.usePeekHover&&
p.$(a.$currentTarget).closest("li").hasClass("videoThumbnail")&&e.selectGivenThumbnail(a.$declarativeParent,x)},e.getHoveringDelayTimer())):"mouseleave"===a.type?ha&&clearTimeout(ha):"click"===a.type&&(u(d,""),p.$(a.$currentTarget).closest("li").hasClass("videoThumbnail")&&(e.selectGivenThumbnail(a.$declarativeParent,x),f=k.buildNexusMetric("ib.thumbnailClick",d.thumbnailIndex+1,f.mediaObjectId,f.groupType,Z,V,ba,da),(!e.useTabbedImmersiveView(b)&&"chromeless-video"===d.type||"tablet"==T)&&k.emitNexusMetric(f),
e.useTabbedImmersiveView(b)&&(k.emitNexusMetric(f),k.postCountMetric("dpcc_videoThumbClicked_"+(d.thumbnailIndex+1)+"_"+ea),R.action="videoIngressClick",R.clickTimeStamp=a.$event.timeStamp,R.$event=a.$event,R.$currentTarget=a.$currentTarget,B.dispatch("videoIngressClick",R),k.postTimeMetric("dpcc_vse_videoingressclick",a.$event.timeStamp))))}}:Q.update=function(a){null!==Y&&(clearInterval(Y),Y=null,c&&c.parent&&c.parent().css("z-index",-1),g&&g.hide&&g.hide());var d=a.data;"ingress"===d.type||e.lazyLoadingRequired(d,
t,b)||D(null);if("swatchHover"===a.type)d.color===t.getCurrentItem().color?u(t.getCurrentItem(),""):a.captured||e.lazyLoadingRequired(d,t,b)&&!e.lazyLoadOnHoverEnabled(b)&&u(t.getCurrentItem(),"");else if("chromeful-video"===d.type||"chromeless-video"===d.type){var f=e.getVideoHash(d.color,d.index,b);if("mouseenter"===a.type&&(k.postCountMetric("dpcc_videoThumbHovered_"+(d.thumbnailIndex+1)+"_"+ea),"chromeless-video"===d.type)){var h=k.buildNexusMetric("ib.thumbnailHover",d.thumbnailIndex+1,f.mediaObjectId,
f.groupType,Z,V,ba,da);k.emitNexusMetric(h)}u(d,"");b.usePeekHover&&"click"!==a.type||!p.$(a.$currentTarget).closest("li").hasClass("videoThumbnail")||(e.selectGivenThumbnail(a.$declarativeParent,x),"click"===a.type&&(f=k.buildNexusMetric("ib.thumbnailClick",d.thumbnailIndex+1,f.mediaObjectId,f.groupType,Z,V,ba,da),(!e.useTabbedImmersiveView(b)&&"chromeless-video"===d.type||"tablet"==T)&&k.emitNexusMetric(f),e.useTabbedImmersiveView(b)&&(k.emitNexusMetric(f),k.postCountMetric("dpcc_videoThumbClicked_"+
(d.thumbnailIndex+1)+"_"+ea),R.action="videoIngressClick",R.clickTimeStamp=a.$event.timeStamp,R.$event=a.$event,R.$currentTarget=a.$currentTarget,B.dispatch("videoIngressClick",R),k.postTimeMetric("dpcc_vse_videoingressclick",a.$event.timeStamp))))}};b.isDPXFeatureEnabled&&(p.on("triggerVideoAjax",I),p.on("notShowVideoCountAjax",H));p.on("vsePlayer-imageblock_tablet",l);p.on("vsePlayer-mbsoftlines",l)}});"use strict";K.when("ImageBlockBTF","postMetric").register("ImageBlockInitViews",function(p,a){function e(a,
e,L,G,I){function k(a){"click"===a.type&&G.postCountMetric("thumbClick");"click"===a.type&&h.overrideAltImageClickAction?E.dispatch("thumbActionClick",a):E.dispatch("updateSelection",a)}function w(a){h.useClickZoom||E.dispatch("imageClick",a)}function D(a){h.useClickZoom||E.dispatch("imageHover",a)}function C(a){E.dispatch("button360Click",a)}function F(d){!L.isDefined(d)||"swatchClick"!==d.type&&"updatedData"!==d.type?(A.update(d),"swatchHover"!==d.type&&M.getPreviousItem().thumbnailIndex!==d.data.thumbnailIndex&&
G.postCountMetric(d.data.type+"ThumbnailSelected"),a.trigger("image-block-thumbnail-selected",d.data)):(A.render(d.data.color,!1,d.onload,d.type),d={hasComponents:!0,components:[{name:"mainimage"},{name:"thumbnail"}]},"function"===typeof v.markFeatureRender&&v.markFeatureRender("imageblock",d))}function u(a){E.dispatch("resize",a)}function y(a){L.selectThumbnail(a,f)}function J(){"function"===typeof v.markFeatureInteractive&&v.markFeatureInteractive("imageblock",{hasComponents:!0,components:[{name:"mainimage",
events:["click"],alwaysInteractive:!0}]})}function N(){h.interactiveCallJSPEnabled||("function"===typeof v.markFeatureInteractive&&v.markFeatureInteractive("imageblock",{hasComponents:!0,components:[{name:"mainimage",events:["hover"],alwaysInteractive:!0},{name:"thumbnail",events:["click","hover"],alwaysInteractive:!0}]}),1===p.useIV?K.when("a-modal").execute(function(){J()}):J());h.disableHoverOnAltImages||a.declarative("thumb-action",["mouseenter","mouseleave"],k);a.declarative("thumb-action",["click"],
k);a.declarative("main-image-click",["click"],w);a.declarative("main-image-click",["mouseenter","mouseleave"],D);a.declarative("button-360-click",["click"],C);a.on("resize",u)}function m(a){var d=a.data,e;d&&"ingress"!==d.type&&"click"===a.type&&(e=a);return e}function d(a){var d=M.getCurrentItem(),e={type:"click"};e.$declarativeParent=a;e.data=d;return e}function l(a){L.isImageBlockGridViewHoverDelayEnabled()&&"mouseenter"===a.type&&L.updateThumbnailHoverDelay(a.$target)}var A,h,E,M,f;return function(a,
k,p){A=this;h=a;E=k;M=p;f=e("#imageBlock #altImages ul");var n=e("#imageBlock .canvas"),b=e("#main-image-container"),t;A.subViews=[];for(k=0;k<I.length;k++)A.subViews.push(new I[k](a,p,A,E));A.render=function(a,k,c,g){var l=0;f.find(".item").remove();a=a||M.getCurrentItem().color;e.each(A.subViews,function(d,e){l=(2===h.unrolledImageBlockTreatment||3===h.unrolledImageBlockTreatment?e.render(a,l,n,f,b,k,c,g):e.render(a,l,n,f,b,k,c))||l});var m=f.find(".a-button-selected").closest(".a-declarative");
t=d(m)};A.init=function(){f=e("#imageBlock #altImages ul");var a=f.find(".a-button-selected").closest(".a-declarative"),b=a.data("action");a=a.data(b)||{};a.color=h.landingAsinColor||h.defaultColor;E.dispatch("updateModel",{data:a});A.render(a.color,!0);h.isDebug&&v.console&&console.log(h);E.register("updateView",F);E.register("selectThumbnail",y);N()};A.update=function(a){l(a);e.each(A.subViews,function(b,c){c.update(a)});h.usePeekHover&&("mouseleave"===a.type?E.dispatch("updateSelection",t):"click"===
a.type&&(t=m(a)||t))}}}a=["A","jQuery","imageBlockUtils","postMetric"].concat(p.views);K.when.apply(K,a).register("ImageBlockView",function(){for(var a=arguments[0],k=arguments[1],p=arguments[2],v=arguments[3],I=[],H=4,w=arguments.length;H<w;H++)I.push(arguments[H]);return e(a,k,p,v,I)})})});
/* ******** */
(function(B){var q=window.AmazonUIPageJS||window.P,sa=q._namespace||q.attributeErrors,d=sa?sa("DetailPageImageBlockSubAssets@immersiveViews","DetailPageImageBlockSubAssets"):q;d.guardFatal?d.guardFatal(B)(d,window):d.execute(function(){B(d,window)})})(function(B,q,sa){B.when("A","jQuery").register("ImageBlockImmersiveViewDimensionIngress",function(d,c){var a;return function(c,d,G,t){a=this;a.render=function(){};a.update=function(){}}});"use strict";B.when("A","jQuery","imageBlockUtils","postMetric",
"imageBlockImmersiveViewUtils").register("ImageBlockImmersiveViewImages",function(d,c,a,x,f){function G(){f.populateTitle(g.find("#ivTitle"),160,J)}function t(){var c=l.getCurrentItem().color;C=J.colorImages[c];z=J.heroImage[c];v=D=0;a.isDefined(z)&&(v=z.length);a.isDefined(C)&&(D=C.length)}function p(a){return a.hiRes||a.large||a.main[a.main.length-1]}function q(){var a=g.find("#ivStage").find("#ivLargeImage"),c=a.width(),d=a.height(),f=a.find(".fullscreen");f.removeAttr("style");var l=f.width(),
m=f.height();0<f.length&&(f[0].naturalWidth&&(l=f[0].naturalWidth),f[0].naturalHeight&&(m=f[0].naturalHeight));a.css("cursor","auto");l=0===l?1:l;m=0===m?1:m;var t=Math.min(c/l,d/m),v=m*t,z=l*t;1>t?(y?a.css("cursor","url('"+J.staticImages.zoomIn+"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor","zoom-in")),k=!0):k=!1;l=Math.min(z,l);m=Math.min(v-20,m);f.css({"margin-top":(d-m)/2,"margin-left":(c-l)/2,height:m,width:l});a.css("visibility","visible");K=!1}
function B(a){var c=g.find("#ivLargeImage");c.css("visibility","hidden");c.empty();f.animateStageIn(c);c.append(a);q()}function P(l){g.find("#ivLargeImage").css("display","none");g.find("#ivLargeImage").css("display","block");var k;"hero-image"===l?a.isDefined(z)&&(k=p(z[w.index])):a.isDefined(C)&&(k=p(C[w.index]));if(a.isDefined(k)){g.find(".fullscreen").remove();var H=c("\x3cimg\x3e").attr("src",k).addClass("fullscreen"),m=g.find("#ivLargeImage");f.animateStageOut(m,function(){H.load(function(){B(H);
d.trigger("dp:image-block:imageBlockImmersiveImageLoad",w.index)});if(H[0].complete)B(H),d.trigger("dp:image-block:imageBlockImmersiveImageLoad",w.index);else{m.empty();var a=(m.height()-104)/2,g=(m.width()-80)/2;c("\x3cimg\x3e").attr("src",J.staticImages.spinner).css({position:"relative",top:a+"px",left:g+"px"}).appendTo(m)}})}}function Q(a){g.find(".ivThumb").removeClass("selected");a.addClass("selected");a.hasClass("ivHeroImage")?w.type="hero-image":w.type="image";w.index=a.attr("id").split("_")[1];
P(w.type);x.postCountMetric("dpcc_iv_thumbCLick_"+(parseInt(w.index,10)+1)+"_"+(v+D))}function M(){g.delegate(".ivThumb","click",function(){var a=c(this);Q(a)})}function N(a,c){return 0<c?c/2:Math.min(0,Math.max(c,a))}function R(a){var c=W.top-(a.pageY-r[1])*m;a=N(W.left-(a.pageX-r[0])*m,F.left);c=N(c,F.top);g.find(".fullscreen").css({left:a,top:c})}function aa(){g.delegate("#ivLargeImage","click",function(a){if(K)q();else if(k){g.find(".fullscreen").removeAttr("style");if(k){var c=g.find("#ivLargeImage"),
f=c.find(".fullscreen");y?c.css("cursor","url('"+J.staticImages.zoomOut+"'), auto"):(c.css("cursor","-webkit-zoom-out"),c.css("cursor","-moz-zoom-out"),c.css("cursor","zoom-out"));K=!0;var l=g.find("#ivLargeImage");F.left=l.width()-f.width();F.top=l.height()-f.height();l=c.height()/2;var d=c.width()/2;r=[c.offset().left+d,c.offset().top+l];W.top=l-f.height()/2;W.left=d-f.width()/2;f.css({position:"relative",left:W.left,top:W.top});m=Math.max(f.height()/c.height(),f.width()/c.width())}R(a);x.postCountMetric("dpcc_iv_largeImageCLick")}});
g.delegate("#ivLargeImage","mousemove",function(a){K&&R(a)})}function ia(){g.find("#ivLargeImage").empty()}function X(d){if(S){g=c("#ivMain");t();w=l.getCurrentItem();G();f.populateVariationSelection(g.find("#ivVariationSelection"));d=g.find("#ivThumbs");d.find(".ivRow").not(".placeholder").remove();for(var k=v+D,m=0,p=0;m<k;)for(var r=d.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(d),x=0;4>x&&m<k;x++,m++,p++)if(p<v){var q=z[m].thumb,y=d.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivHeroImage").attr({id:"ivHeroImage_"+
m,"data-csa-c-type":"item","data-csa-c-component":"imageBlock","data-csa-c-content-id":"image-block-immersive-view-hero-image","data-csa-c-posy":m+1}).appendTo(r);y.find(".ivThumbImage").css("background",'url("'+f.getResizedThumbnailURL(q)+'") center no-repeat')}else p>=v&&p<D+v&&(q=C[m-v].thumb,y=d.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr({id:"ivImage_"+(m-v),"data-csa-c-type":"item","data-csa-c-component":"imageBlock","data-csa-c-content-id":"image-block-immersive-view-alt-image",
"data-csa-c-posy":m-v+1}).appendTo(r),y.find(".ivThumbImage").css("background",'url("'+f.getResizedThumbnailURL(q)+'") center no-repeat'));L();S=!1}else G();d=c("#ivImagesTab").height();g.css("height",d);k=g.find("#ivTitle").outerHeight(!0);m=g.find("#ivVariationSelection").outerHeight(!0);p=g.find("#ivThumbs");r=f.getDimension(p,"margin-top")+f.getDimension(p,"margin-bottom");p.css("height",d-k-m-r);g.find("#ivLargeImage").css("height",d);d=g.find("#ivStage");k=g[0]&&g[0].getBoundingClientRect&&
Math.floor(g[0].getBoundingClientRect().width)||g.width();d.css("width",k-f.getDimension(g,"padding-left")-f.getDimension(g,"padding-right")-g.find("#ivThumbColumn").width()-f.getDimension(d,"margin-left")-f.getDimension(d,"margin-right"));w=l.getCurrentItem();d="hero-image"===w.type?g.find("#ivHeroImage_"+w.index):"image"===w.type?g.find("#ivImage_"+w.index):a.isDefined(z)?g.find("#ivHeroImage_"+w.index):g.find("#ivImage_"+w.index);a.isjQueryObjDefined(d)||(d=g.find("#ivImage_0"));Q(d)}var fa,J,
l,g,z,C,v,D,w,y=navigator.userAgent.match(/msie|trident/i),S=!0,K=!1,k=!1,F={},W={},m,r;S=!0;var L=d.once(function(){M();aa();f.attachImmersiveViewResizeHandler(X);f.attachTabDeselectHandler("ivImagesTab",ia)});return function(a,d,g,k){fa=this;J=a;l=d;fa.render=function(a,d,g,l,k,m){S=!0;t();0===v+D?f.hideTabHeading("ivImagesTabHeading"):f.unhideTabHeading("ivImagesTabHeading");1===v+D?c("#ivThumbs").hide():c("#ivThumbs").show()};fa.update=function(a){};f.attachTabSelectHandler("ivImagesTab",X)}});
"use strict";B.when("A","jQuery","imageBlockUtils","postMetric","logFailedInteractionMetric","postEarlyMetric","imageBlockImmersiveViewUtils").register("ImageBlockTabbedImmersiveView",function(d,c,a,x,f,G,t){function p(){var a=M.getImmersiveViewModalInstance().$container.find(".a-popover-wrapper"),f=a.find(".a-popover-inner");a=a.height()-t.getDimension(f,"padding-top")-t.getDimension(f,"padding-bottom");c("#iv-tab-view-container").css("height",a);aa=c("#iv-tab-view-container ul.iv-tab-views li").filter(function(){return"none"!==
c(this).css("display")}).length;1<aa?(c("#iv-tab-view-container ul.iv-tab-views li").parent().show(),f=c("#iv-tab-view-container ul.iv-tab-views li").parent().height(),a-=f):c("#iv-tab-view-container ul.iv-tab-views li").parent().hide();c("#iv-tab-view-container .iv-tab-content").css("height",a);d.trigger("dp:image-block:immersive-view:resize")}function ta(){d.trigger("dp:image-block:immersive-view:reset")}function na(l){if(a.isImmersiveViewEnabled(Q,M.getCurrentItem().color))if(X){var g=l.$event.originalEvent;
g.acknowledge&&g.acknowledge(l.$currentTarget[0]);f.isEnabled&&G.logImmersiveViewRequestServed(f);x.postCountMetric("dppc_immersiveViewOpened");a.isDefined(l)&&("button-360-click"===l.action?c("#iv360TabHeading").click():"videoIngressClick"===l.action?(ia=l.clickTimeStamp,c("#ivVideosTabHeading").click()):"showroomIngressClick"===l.action?(ia=l.clickTimeStamp,c("#ivShowroomTabHeading").click()):c("#ivImagesTabHeading").click());g=M.getImmersiveViewModalInstance();if(a.isDefined(g))g.show();else{l=
c("#auiImmersiveViewDiv");g=Math.min(Math.max(c(q).height()-150,540),1080);var p=Math.min(Math.max(c(q).width()-75,990),1980);g=X.create(l,{name:"immersiveView",activate:"onclick",width:p,height:g,popoverLabel:"ImmersiveView",hideHeader:!0});M.setImmersiveViewModalInstance(g);l.click()}R&&(R=!1,fa(),d.trigger("dp:image-block:immersive-view:init"))}else q.performance&&performance.now&&q.ue&&ue.count&&ue.count("DPIBClickFailedInteractionCount",(ue.count("DPIBClickFailedInteractionCount")||0)+1);else x.postCountMetric("immersiveViewNotExistsClickCount")}
var P,Q,M,N,R=!0,aa=0,ia,X;B.when("a-modal").execute(function(a){X=a});var fa=d.once(function(){d.on("a:popover:afterUpdatePosition:immersiveView",p);d.on("a:popover:afterShow:immersiveView",p);d.on("a:popover:afterHide:immersiveView",ta)}),J=d.once(function(){var a=c("#iv-tab-view-container ul.iv-tab-views li");a.bind("click",function(f){var g=a.filter(".iv-active");g.attr("id")!==c(this).attr("id")&&d.trigger("dp:ivTabs:"+g.find("a").attr("data-iv-tab-view")+":deselect",f);a.removeClass("iv-active");
c(this).addClass("iv-active");c("#iv-tab-view-container .iv-tab-content").hide();g=c(this).find("a").attr("data-iv-tab-view");c("#"+g).show();"ivVideosTab"===g&&(f.clickTimeStamp=ia||f.timeStamp);d.trigger("dp:ivTabs:"+g+":select",f);x.postCountMetric("dppc_"+g);return!1})});return function(c,g,p,t){P=this;Q=c;M=g;f.refToModel=M;N=t;P.render=function(a,c,d,f,g,l){x.postCountMetric("dpcc_altThumbs_"+c);R=!0};P.update=function(a){};P.getTitle=function(){};P.getVariationSelectionInfo=function(){};J();
a.isImmersiveViewEnabled(Q,M.getCurrentItem().color)||a.addTag("immersiveViewNotAvailable");N.register("imageClick",na);N.register("button360Click",na);Q.collapsibleThumbnails&&d.declarative("thumb-action",["click"],function(a){a.$declarativeParent.hasClass("overlayRestOfImages")&&na(a)});a.useTabbedImmersiveView(Q)&&(N.register("videoIngressClick",na),N.register("showroomIngressClick",na))}});"use strict";B.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric",
"postEarlyMetric","imageBlockImmersiveViewUtils").register("ImageBlockImmersiveView",function(d,c,a,x,f,G,t,p){function ta(e){return e.hiRes||e.large||e.main[e.main.length-1]}function na(){h.find("#ivTitle").click(function(){ba.hide()})}function P(){u=Qa?{type:"360-spin"}:T.getCurrentItem()}function Q(){var e=h.find("#ivStage"),a=ba.$container.find(".a-popover-wrapper"),c=a.find(".a-popover-inner");a=a.height()-p.getDimension(c,"padding-top")-p.getDimension(c,"padding-bottom");h.css("height",a);c=
h.find("#ivTitle").outerHeight(!0);var b=h.find("#ivVariationSelection").outerHeight(!0),d=h.find("#ivMediaSelection").outerHeight(!0),f=h.find("#ivThumbs"),g=p.getDimension(f,"margin-top")+p.getDimension(f,"margin-bottom");f.css("height",a-c-b-d-g);h.find("#ivLargeImage").css("height",a);e.css("width",h.width()-p.getDimension(h,"padding-left")-p.getDimension(h,"padding-right")-h.find("#ivThumbColumn").width()-p.getDimension(e,"margin-left")-p.getDimension(e,"margin-right"))}function M(){h.find("#ivMediaSelect").change(function(){var e=
c(this).val();"all"===e?(h.find("#ivVideoList").hide(),h.find("#ivThumbs").show(),h.find(".ivThumbVideo").show(),"chromeful-video"===u.type&&h.find("#ivVideo_"+u.index).click()):"images"===e?(h.find("#ivVideoList").hide(),h.find("#ivThumbs").show(),h.find(".ivThumbVideo").hide(),"chromeful-video"===u.type&&(0===U&&0===I?h.find("#iv360").click():0===U?h.find("#ivHeroImage_0").click():h.find("#ivImage_0").click())):"videos"===e&&(h.find("#ivVideoList").show(),h.find("#ivThumbs").hide(),"chromeful-video"!==
u.type?h.find("#ivVideoList_0").click():h.find("#ivVideoList_"+u.index).click())})}function N(){var e=h.find("#ivStage").find("#ivLargeImage"),a=e.width(),c=e.height(),b=e.find(".fullscreen");b.removeAttr("style");var d=b.width(),f=b.height();0<b.length&&(b[0].naturalWidth&&(d=b[0].naturalWidth),b[0].naturalHeight&&(f=b[0].naturalHeight));e.css("cursor","auto");d=0===d?1:d;f=0===f?1:f;var g=Math.min(a/d,c/f),k=f*g,m=d*g;1>g?(Ra?e.css("cursor","url('"+n.staticImages.zoomIn+"'), auto"):(e.css("cursor",
"-webkit-zoom-in"),e.css("cursor","-moz-zoom-in"),e.css("cursor","zoom-in")),Aa=!0):Aa=!1;d=Math.min(m,d);f=Math.min(k-20,f);b.css({"margin-top":(c-f)/2,"margin-left":(a-d)/2,height:f,width:d});e.css("visibility","visible");Ba=!1}function R(e){var a=h.find("#ivLargeImage");a.css("visibility","hidden");a.empty();p.animateStageIn(a);a.append(e);N()}function aa(){A&&A.pause();h.find("#ivLarge360").css("display","none");h.find("#ivLargeVideo").css("display","none");h.find("#ivLargeImage").css("display",
"none");z()}function ia(e){aa();h.find("#ivLargeImage").css("display","block");var b;"hero-image"===e?a.isDefined(Y)&&(b=ta(Y[u.index])):a.isDefined(ja)&&(b=ta(ja[u.index]));if(a.isDefined(b)){h.find(".fullscreen").remove();var d=c("\x3cimg\x3e").attr("src",b).addClass("fullscreen"),f=h.find("#ivLargeImage");p.animateStageOut(f,function(){d.load(function(){R(d)});if(d[0].complete)R(d);else{f.empty();var e=(f.height()-104)/2,a=(f.width()-80)/2;c("\x3cimg\x3e").attr("src",n.staticImages.spinner).css({position:"relative",
top:e+"px",left:a+"px"}).appendTo(f)}})}}function X(){var e=parseInt(u.index,10)+1;e>=ha.length||h.find("#ivVideo_"+e).click()}function fa(){var e;a.isDefined(ha)&&(e=ha[u.index]);if(a.isDefined(e)){aa();var b=h.find("#ivLargeVideo").css("display","block");A?(A.isDetached()&&A.attach(b[0]),a.loadMediaIntoAiry(A,e,ya,n.tabletWeb),A.show()):(A=a.createAiryInstanceForChromeful(b,e,ya,"ImmersiveView"),ya.enableContinuousPlay&&A.bind("ended",X));A.play({isAsync:!0})}}function J(){P();var e="hero-image"===
u.type?h.find("#ivHeroImage_"+u.index):"image"===u.type?h.find("#ivImage_"+u.index):"chromeful-video"===u.type||"chromeless-video"===u.type?h.find("#ivVideo_"+u.index):"360-spin"===u.type?h.find("#iv360"):a.isDefined(Y)?h.find("#ivHeroImage_"+u.index):h.find("#ivImage_"+u.index);a.isjQueryObjDefined(e)||(e=h.find("#ivImage_0"));l(e)}function l(e){h.find(".ivThumb").removeClass("selected");e.addClass("selected");e.hasClass("ivThumbVideo")?(u.type="chromeful-video",u.index=e.attr("id").split("_")[1],
fa()):e.hasClass("ivHeroImage")?(u.type="hero-image",u.index=e.attr("id").split("_")[1],ia(u.type)):e.hasClass("iv360Image")?(u.type="360-spin",u.index=0,g()):(u.type="image",u.index=e.attr("id").split("_")[1],ia(u.type))}function g(){aa();h.find("#ivLarge360").css("display","block");y();var e=h.find("#ivLarge360");e.css({opacity:0});setTimeout(function(){e.css({opacity:.4});p.animateStageIn(e)},200);v();f.postCountMetric("dppc_click360");ua=Date.now()}function z(){0<ua&&(C("dppc_duration360",Date.now()-
ua),ua=0)}function C(e,a){q.ue&&q.ue.count(e,a)}function v(){if(0<qa){var e=h.find(".iv360Hint");e.removeClass("iv360HintFaded");e.animate({opacity:1},200)}}function D(e,a){if(qa<e.length){var b=c("\x3cimg /\x3e").css({display:"block",width:6*pa+"px",height:va+"px"});b.hide();a.append(b);b.get(0).onload=function(){a.closest(document.documentElement).length&&(qa++,1===qa&&(v(),0<ua&&C("dppc_loadTime360",Date.now()-ua)),0<Ia&&C("dppc_perSpriteloadTime360",Date.now()-Ia),h.find("#iv360Spinner").hide(),
b.show(),Ca=5*E.imageLocations[Math.floor(za/E.imageLocations[0].length)][za%E.imageLocations[0].length],D(e,a))};b.attr("src",e[qa].replace(/(\._SP)\d+(,)\d+/,"$1"+wa+"$2"+xa));Ia=Date.now()}}function w(e){if(a.isDefined(E.spriteWidthSizes)&&0<E.spriteWidthSizes.length){var b=E.spriteWidthSizes,c=b.length,f=b[0],d=b[c-1];if(e<=f)return f;if(e>d)return d;for(f=0;f<c;f++)if(e>b[f]&&e<=b[f+1])return b[f+1]}else return e}function y(){var a=h.find("#ivLarge360");a.children("#image-360-sprites").length||
(a.append("\x3cdiv id\x3d'image-360-sprites'\x3e\x3c/div\x3e"),a.css({"margin-left":0,"margin-top":0,width:a.parent().width(),height:a.parent().height(),overflow:"hidden",position:"relative","-ms-user-select":"none","-webkit-user-select":"none","-mos-user-select":"none"}),c("\x3cimg\x3e").attr("src",n.staticImages.spinnerNoLabel).attr("id","iv360Spinner").css({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"block"}).appendTo(a),Ja=!0,S())}function S(){if(a.isDefined(E.spriteURLs)&&
a.isDefined(h)&&Ja&&!Ka){var e=h.find("#ivLarge360"),b=c("\x3cdiv\x3e").addClass("iv360Hint").css({position:"absolute",width:"100%",bottom:0,opacity:0,display:"block"});a.isDefined(E.staticImages.hint360)&&c("\x3cimg\x3e").css({"margin-left":"auto","margin-right":"auto",display:"block"}).attr("src",E.staticImages.hint360).appendTo(b);c("\x3cdiv\x3e").css({"text-align":"center"}).text(n.staticStrings.dragToSpin).appendTo(b);b.appendTo(e);b=E.imageWidth;var f=E.imageHeight,d=e.parent().width(),g=e.parent().height(),
l=0,u=0;b/f>d/g?(wa=w(d),xa=Math.round(f/b*wa),pa=Math.ceil(d),va=Math.ceil(xa/wa*d),u=(g-va)/2):(xa=w(g),wa=Math.round(b/f*xa),va=Math.ceil(g),pa=Math.ceil(wa/xa*g),l=(d-pa)/2);e.css({"margin-left":l,"margin-top":u,width:pa+"px",height:va+"px",overflow:"hidden",position:"relative"});e.children("#image-360-sprites").css("width",6*pa+"px");D(E.spriteURLs,h.find("#image-360-sprites"),0);b=h.find("#ivLarge360");b.bind("mousedown",W);b.bind("touchstart",K);b.bind("touchmove",k);b.bind("touchend",F);c(document).bind("mousemove",
m);c(document).bind("mouseup",r);a.isDefined(n.staticImages.grab)&&e.css("cursor","url('"+n.staticImages.grab+"'), auto");Ka=!0}}function K(a){Da=!0;La=a.originalEvent.targetTouches[0].clientX}function k(a){Da&&(L(a.originalEvent.targetTouches[0].clientX-La),La=a.originalEvent.targetTouches[0].clientX)}function F(a){Da&&(Da=!1)}function W(e){Ea=!0;Ma=e.originalEvent.clientX;a.isDefined(n.staticImages.grabbing)&&(e=h.find("#ivLarge360"),e.css("cursor","url('"+n.staticImages.grabbing+"'), auto"),e.parents(".a-declarative").last().css("cursor",
"url('"+n.staticImages.grabbing+"'), auto"));return!1}function m(a){Ea&&(L(a.originalEvent.clientX-Ma),Ma=a.originalEvent.clientX)}function r(e){Ea&&(Ea=!1,a.isDefined(n.staticImages.grab)&&(e=h.find("#ivLarge360"),e.css("cursor","url('"+n.staticImages.grab+"'), auto"),e.parents(".a-declarative").last().css("cursor","auto")))}function L(e){for(e=Ca-=e/pa*180;0>e;)e+=360;for(;360<e;)e-=360;Ca=e;e=360;for(var b=0;b<qa;b++)for(var c=0;c<E.imageLocations[b].length;c++){var f=Math.abs(Ca-5*E.imageLocations[b][c]);
if(f<e){e=f;var d=b*E.imageLocations[0].length+c}}d!==za&&(e=Math.floor(d/E.imageLocations[0].length),e!==Math.floor(za/E.imageLocations[0].length)&&(a.isDefined(Na)||(Na=document.createElement("canvas").getContext("2d")),b=h.find("#image-360-sprites").children(),Na.drawImage(b[e],0,0)),e=h.find(".iv360Hint").not(".iv360HintFaded"),a.isDefined(e)&&(e.addClass("iv360HintFaded"),e.animate({opacity:0},750)));za=d;e=d%E.imageLocations[0].length*-1*pa;d=-1*Math.floor(d/E.imageLocations[0].length)*va;b=
h.find("#ivLarge360").children("#image-360-sprites");b.css("-webkit-transform","translate3d("+e+"px, "+d+"px, 0)");b.css("transform","translate3d("+e+"px, "+d+"px, 0)")}function H(){h.delegate(".ivThumb","click",function(){var a=c(this);l(a)});h.delegate(".ivThumbVideoListOuter","click",function(){h.find(".ivThumbVideoListOuter").removeClass("selected");var a=c(this);a.addClass("selected");u.type="chromeful-video";u.index=a.attr("id").split("_")[1];fa()})}function ca(){A&&!A.isDetached()&&(ya.volume=
A.getVolume(),A.detach(),!document.all||q.atob||document.addEventListener||(A=null));h.find("#ivLargeImage").empty();z()}function da(a,b){return 0<b?b/2:Math.min(0,Math.max(b,a))}function V(a){var b=ra.left-(a.pageX-Fa[0])*Ga;d.capabilities.rtl&&(b=ra.left-(c(q).width()-a.pageX-Fa[0])*Ga);a=ra.top-(a.pageY-Fa[1])*Ga;b=da(b,Ha.left);a=da(a,Ha.top);h.find(".fullscreen").css({left:b,top:a})}function la(){h.delegate("#ivLargeImage","click",function(a){if(Ba)N();else if(Aa){h.find(".fullscreen").removeAttr("style");
if(Aa){var b=h.find("#ivLargeImage"),e=b.find(".fullscreen");Ra?b.css("cursor","url('"+n.staticImages.zoomOut+"'), auto"):(b.css("cursor","-webkit-zoom-out"),b.css("cursor","-moz-zoom-out"),b.css("cursor","zoom-out"));Ba=!0;var c=h.find("#ivLargeImage");Ha.left=c.width()-e.width();Ha.top=c.height()-e.height();c=b.height()/2;var d=b.width()/2;Fa=[b.offset().left+d,b.offset().top+c];ra.top=c-e.height()/2;ra.left=d-e.width()/2;e.css({position:"relative",left:ra.left,top:ra.top});Ga=Math.max(e.height()/
b.height(),e.width()/b.width())}V(a)}});h.delegate("#ivLargeImage","mousemove",function(a){Ba&&V(a)})}function ea(e){if(a.isImmersiveViewEnabled(n,T.getCurrentItem().color))if(Oa){var g=e.$event.originalEvent;g.acknowledge&&g.acknowledge(e.$currentTarget[0]);Qa=a.isDefined(e)&&"button-360-click"===e.action;G.isEnabled&&t.logImmersiveViewRequestServed(G);f.postCountMetric("dppc_immersiveViewOpened");if(a.isDefined(ba))ba.show();else{e=c("#auiImmersiveViewDiv");g=c(q).height()-150;var k=c(q).width()-
75;ba=Oa.create(e,{name:"immersiveView",activate:"onclick",width:k,height:g,popoverLabel:"ImmersiveView",hideHeader:!0});e.click()}if(Pa){h=c("#ivMain");e=T.getCurrentItem().color;ja=n.colorImages[e];Y=n.heroImage[e];ha=n.useChildVideos?n.colorToVideo[e]:n.videos;Sa=O()&&n.spin360ColorEnabled[e];E=O()?n.spin360ColorData[e]:sa;P();oa=I=b=U=0;a.isDefined(Y)&&(I=Y.length);a.isDefined(ja)&&(U=ja.length);a.isDefined(ha)&&(b=ha.length);Sa&&(oa=1);p.populateTitle(h.find("#ivTitle"),45,n);p.populateVariationSelection(h.find("#ivVariationSelection"));
e=h.find("#ivMediaSelect");0===U+oa||0===b?(e.parent().hide(),h.find("#ivThumbs").addClass("noMediaSelection")):(e.empty(),c("\x3coption/\x3e").attr("value","all").prop("selected",!0).text(n.staticStrings.allMedia+" ("+(I+U+oa+b)+")").appendTo(e),c("\x3coption/\x3e").attr("value","images").text(n.staticStrings.images+" ("+(I+U+oa)+")").appendTo(e),c("\x3coption/\x3e").attr("value","videos").text(n.staticStrings.videos+" ("+b+")").appendTo(e),e.parent().show(),e.val("all"));e=h.find("#ivThumbs");e.find(".ivRow").not(".placeholder").remove();
g=I+U+b+oa;for(var m=k=0;k<g;)for(var l=e.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(e),u=0;3>u&&k<g;u++,k++,m++)if(m<I){var A=Y[k].thumb,r=e.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivHeroImage").attr("id","ivHeroImage_"+k).appendTo(l);r.find(".ivThumbImage").css("background",'url("'+p.getResizedThumbnailURL(A)+'") center no-repeat')}else if(m>=I&&m<U+I)A=ja[k-I].thumb,r=e.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr("id",
"ivImage_"+(k-I)).appendTo(l),r.find(".ivThumbImage").css("background",'url("'+p.getResizedThumbnailURL(A)+'") center no-repeat');else if(m>=I+U&&m<U+I+oa)r=e.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("iv360Image").attr("id","iv360").appendTo(l),r.find(".ivThumbImage").css("background",'url("'+(a.isDefined(n.staticImages.icon360)?p.getResizedThumbnailURL(n.staticImages.icon360,!0):"")+'") center no-repeat');else if(A=ha[k-U-I-oa],r=e.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivThumbVideo").attr("id",
"ivVideo_"+(k-U-I-oa)).appendTo(l),r.find(".ivThumbImage").css("background",'url("'+A.thumbUrl+'") center no-repeat'),a.isDefined(A)){var v={position:"triggerTop"},x=h.find("#ivThumbs").find(".ivThumbVideoPopover.placeholder").clone().removeClass("placeholder");x.find(".ivVideoPopoverTitle").text(A.title);x.find(".ivVideoPopoverDuration").text(A.durationTimestamp);v.inlineContent=x[0];d.declarative.create(r,"a-tooltip",v)}e=h.find("#ivVideoList");e.find(".ivThumbVideoListOuter").not(".placeholder").remove();
g=e.find(".placeholder");for(k=0;k<b;k++)m=ha[k],l=g.clone().removeClass("placeholder").appendTo(e),l.attr("id","ivVideoList_"+k),l.find(".ivThumbImage").css("background",'url("'+m.thumbUrl+'") center no-repeat'),l.find(".ivThumbTitle").text(m.title),l.find(".ivThumbDuration").text(m.durationTimestamp);h.find("#ivLarge360").empty();qa=0;Ka=Ja=!1;ya=n.airyConfig;Pa=!1;Ta()}}else q.performance&&performance.now&&q.ue&&ue.count&&ue.count("DPIBClickFailedInteractionCount",(ue.count("DPIBClickFailedInteractionCount")||
0)+1);else f.postCountMetric("immersiveViewNotExistsClickCount")}function ma(b){var e=n.colorToAsin[b],c={},d=500;if(e&&e.asin){c.params={asin:e.asin};var g="360"+e.asin,k=Date.now();c.success=function(e){C("dppc_asyncRequestTime360",Date.now()-k);e&&a.isDefined(e.spin360.spin360Model)?(a.ajaxState(g,"success"),n.spin360ColorData[b]=e.spin360.spin360Model,b===T.getCurrentItem().color&&(E=n.spin360ColorData[b],S())):c.error()};c.error=function(){f.postCountMetric("dppc_asyncFailed360");C("dppc_asyncRequestTime360",
Date.now()-k);d*=2;16E3>=d?setTimeout(function(){k=Date.now();x.load("/gp/product/features/apparel-main-image/360.html",c)},d):a.ajaxState(g,"fail")};a.ajaxState(g)&&"fail"!==a.ajaxState(g)||(x.load("/gp/product/features/apparel-main-image/360.html",c),a.ajaxState(g,"sent"))}}function O(){return a.isDefined(n.spin360ConfigEnabled)&&n.spin360ConfigEnabled}var Z,n,T,ka,ba,h,Y,ja,ha,I,U,b,oa,u,A,ya,E,Sa,pa,va,xa,wa,Ma,La,Qa=!1,Ja=!1,Ka=!1,Ca=0,za=0,ua=0,Ia=0,Ea=!1,Da=!1,qa=0,Na,Ra=navigator.userAgent.match(/msie|trident/i),
Pa=!0,Ba=!1,Aa=!1,Ha={},ra={},Ga,Fa,Oa;B.when("a-modal").execute(function(a){Oa=a});var Ta=d.once(function(){M();H();la();d.on("a:popover:afterUpdatePosition:immersiveView",Q);d.on("a:popover:afterShow:immersiveView",J);d.on("a:popover:afterHide:immersiveView",ca);na()});return function(b,g,k,h){Z=this;n=b;T=g;G.refToModel=T;ka=h;O()&&(n.spin360ColorData[n.landingAsinColor]=n.spin360ColorData[n.defaultColor],n.spin360ColorEnabled[n.landingAsinColor]=n.spin360ColorEnabled[n.defaultColor]);a.isDefined(n.staticImages.icon360)&&
c("#imageBlock #altImages ul").find(".360IngressTemplate").find("img").attr("src",p.addStyleCodeToURL(n.staticImages.icon360,"_FMpng_RI_"));Z.render=function(b,e,c,g,k,h){Pa=!0;O()&&n.spin360ColorEnabled[b]&&!a.isDefined(n.spin360ColorData[b])&&(n.spin360ColorData[b]={},ma(b));a.isImmersiveViewEnabled(n,T.getCurrentItem().color)&&O()&&n.spin360ColorEnabled[b]&&(e===n.maxAlts&&(b=g.find(".item.imageThumbnail"),c=g.find(".item.videoThumbnail"),a.isDefined(c)&&1<c.length?c.last().remove():b.last().remove(),
e--),b=g.find(".360IngressTemplate").clone().removeClass("360IngressTemplate").removeClass("aok-hidden").addClass("item"),d.declarative.create(b,"button-360-click"),g.append(b),e++,f.postCountMetric("dppc_display360"));return e};Z.update=function(a){};a.isImmersiveViewEnabled(n,T.getCurrentItem().color)||a.addTag("immersiveViewNotAvailable");ka.register("imageClick",ea);ka.register("button360Click",ea)}});"use strict";B.when("A","jQuery","imageBlockUtils","ImageBlockLoader","nexusLogger360","postMetric",
"imageBlockImmersiveViewUtils","hit-spin360-feature-data","hit-spin360-constants").register("ImageBlockImmersiveView360",function(d,c,a,x,f,q,t,p,B){function G(){var a=c("#iv360Tab").height();m.css("height",a);var d=m.find("#ivTitle360").outerHeight(!0),f=m.find("#ivVariationSelection360").outerHeight(!0),g=m.find("#ivThumbs360"),k=t.getDimension(g,"margin-top")+t.getDimension(g,"margin-bottom");g.css("height",a-d-f-k);a=m.find("#ivStage360");d=m[0]&&m[0].getBoundingClientRect&&Math.floor(m[0].getBoundingClientRect().width)||
m.width();a.css("width",d-t.getDimension(m,"padding-left")-t.getDimension(m,"padding-right")-m.find("#ivThumbColumn360").width()-t.getDimension(a,"margin-left")-t.getDimension(a,"margin-right"))}function P(){R();var a=m.find("#ivLarge360");a.css({opacity:0});setTimeout(function(){a.css({opacity:.4});t.animateStageIn(a)},200);Q()}function Q(){if(0<h){var a=m.find(".iv360Hint");a.removeClass("iv360HintFaded");a.animate({opacity:1},200)}}function M(a,d){if(h<a.length){var b=c("\x3cimg /\x3e").css({display:"block",
width:6*L+"px",height:H+"px"});b.hide();d.append(b);b.get(0).onload=function(){d.closest(document.documentElement).length&&(h++,1===h&&(Q(),0<n&&(f.time("dppc_loadTime360",Date.now()-n,k.mediaAsin),q.postTimeMetric("dppc_loadTime360",Date.now()-n))),0<T&&(f.time("dppc_perSpriteloadTime360",Date.now()-T,k.mediaAsin),q.postTimeMetric("dppc_perSpriteloadTime360",Date.now()-T)),m.find("#iv360Spinner").hide(),b.show(),O=5*r.imageLocations[Math.floor(Z/r.imageLocations[0].length)][Z%r.imageLocations[0].length],
M(a,d))};b.attr("src",a[h].replace(/(\._SP)\d+(,)\d+/,"$1"+da+"$2"+ca));T=Date.now()}}function N(b){if(a.isDefined(r.spriteWidthSizes)&&0<r.spriteWidthSizes.length){var c=r.spriteWidthSizes,d=c.length,f=c[0],g=c[d-1];if(b<=f)return f;if(b>g)return g;for(f=0;f<d;f++)if(b>c[f]&&b<=c[f+1])return c[f+1]}else return b}function R(){var a=m.find("#ivLarge360");a.children("#image-360-sprites").length||(a.append("\x3cdiv id\x3d'image-360-sprites'\x3e\x3c/div\x3e"),a.css({"margin-left":0,"margin-top":0,width:a.parent().width(),
height:a.parent().height(),overflow:"hidden",position:"relative","-ms-user-select":"none","-webkit-user-select":"none","-mos-user-select":"none"}),c("\x3cimg\x3e").attr("src",k.staticImages.spinnerNoLabel).attr("id","iv360Spinner").css({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"block"}).appendTo(a),ea=!0,aa())}function aa(){if(a.isDefined(r.spriteURLs)&&a.isDefined(m)&&ea&&!ma){var b=m.find("#ivLarge360"),d=c("\x3cdiv\x3e").addClass("iv360Hint").css({position:"absolute",
width:"100%",bottom:0,opacity:0,display:"block"});a.isDefined(r.staticImages.hint360)&&c("\x3cimg\x3e").css({"margin-left":"auto","margin-right":"auto",display:"block"}).attr("src",r.staticImages.hint360).appendTo(d);c("\x3cdiv\x3e").css({"text-align":"center"}).text(k.staticStrings.dragToSpin).appendTo(d);d.appendTo(b);d=r.imageWidth;var f=r.imageHeight,h=b.parent().width(),n=b.parent().height(),Y=0,p=0;d/f>h/n?(da=N(h),ca=Math.round(f/d*da),L=Math.ceil(h),H=Math.ceil(ca/da*h),p=(n-H)/2):(ca=N(n),
da=Math.round(d/f*ca),H=Math.ceil(n),L=Math.ceil(da/ca*n),Y=(h-L)/2);b.css({"margin-left":Y,"margin-top":p,width:L+"px",height:H+"px",overflow:"hidden",position:"relative"});b.children("#image-360-sprites").css("width",6*L+"px");M(r.spriteURLs,m.find("#image-360-sprites"),0);d=m.find("#ivLarge360");d.bind("mousedown",J);d.bind("touchstart",ta);d.bind("touchmove",X);d.bind("touchend",fa);c(document).bind("mousemove",l);c(document).bind("mouseup",g);a.isDefined(k.staticImages.grab)&&b.css("cursor",
"url('"+k.staticImages.grab+"'), auto");ma=!0}}function ta(a){ba=!0;la=a.originalEvent.targetTouches[0].clientX}function X(a){ba&&(z(a.originalEvent.targetTouches[0].clientX-la),la=a.originalEvent.targetTouches[0].clientX)}function fa(a){ba&&(ba=!1)}function J(b){ka=!0;V=b.originalEvent.clientX;a.isDefined(k.staticImages.grabbing)&&(b=m.find("#ivLarge360"),b.css("cursor","url('"+k.staticImages.grabbing+"'), auto"),b.parents(".a-declarative").last().css("cursor","url('"+k.staticImages.grabbing+"'), auto"));
return!1}function l(a){ka&&(z(a.originalEvent.clientX-V),V=a.originalEvent.clientX)}function g(b){ka&&(ka=!1,a.isDefined(k.staticImages.grab)&&(b=m.find("#ivLarge360"),b.css("cursor","url('"+k.staticImages.grab+"'), auto"),b.parents(".a-declarative").last().css("cursor","auto")))}function z(b){O-=b/L*180;ja&&(f.count("dppc_360dragToSpin",k.mediaAsin),q.postCountMetric("dppc_360dragToSpin"));ja=!1;for(b=O;0>b;)b+=360;for(;360<b;)b-=360;O=b;b=360;for(var c=0;c<h;c++)for(var d=0;d<r.imageLocations[c].length;d++){var g=
Math.abs(O-5*r.imageLocations[c][d]);if(g<b){b=g;var l=c*r.imageLocations[0].length+d}}l!==Z&&(b=Math.floor(l/r.imageLocations[0].length),b!==Math.floor(Z/r.imageLocations[0].length)&&(a.isDefined(Y)||(Y=document.createElement("canvas").getContext("2d")),c=m.find("#image-360-sprites").children(),Y.drawImage(c[b],0,0)),b=m.find(".iv360Hint").not(".iv360HintFaded"),a.isDefined(b)&&(b.addClass("iv360HintFaded"),b.animate({opacity:0},750)));Z=l;b=l%r.imageLocations[0].length*-1*L;l=-1*Math.floor(l/r.imageLocations[0].length)*
H;c=m.find("#ivLarge360").children("#image-360-sprites");c.css("-webkit-transform","translate3d("+b+"px, "+l+"px, 0)");c.css("transform","translate3d("+b+"px, "+l+"px, 0)")}function C(){if(I){m=c("#ivMain360");var a=F.getCurrentItem().color;D()&&w(a);r=D()?k.spin360ColorData[a]:sa;t.populateTitle(m.find("#ivTitle360"),160,k);t.populateVariationSelection(m.find("#ivVariationSelection360"));m.find("#ivLarge360").empty();h=0;ma=ea=!1;Z=O=0;U();I=!1}0!==c("#iv360Tab").height()&&(t.detachImmersiveViewResizeHandler(C),
G(),P(),n=Date.now(),ha=ja=!0,f.count("dppc_click360",k.mediaAsin),q.postCountMetric("dppc_click360"))}function v(b,c,d){b=k.colorToAsin[d];var g={},h=500;if(!b||!b.asin)if(d===k.defaultColor)b={asin:k.winningAsin};else return;g.params={asin:b.asin};var l="360"+b.asin,m=Date.now();g.success=function(b){f.time("dppc_asyncRequestTime360",Date.now()-m,k.mediaAsin);q.postTimeMetric("dppc_asyncRequestTime360",Date.now()-m);b&&a.isDefined(b.spin360)?((b=b.spin360.spin360Model)&&p.setData(b),a.ajaxState(l,
"success")):g.error()};g.error=function(){f.count("dppc_asyncFailedTransient360",k.mediaAsin);q.postCountMetric("dppc_asyncFailedTransient360");f.time("dppc_asyncRequestTime360",Date.now()-m,k.mediaAsin);q.postTimeMetric("dppc_asyncRequestTime360",Date.now()-m);h*=2;16E3>=h?setTimeout(function(){m=Date.now();x.load("/gp/product/features/apparel-main-image/360.html",g)},h):(f.count("dppc_asyncFailed360",k.mediaAsin),q.postCountMetric("dppc_asyncFailed360"),a.ajaxState(l,"fail"))};a.ajaxState(l)&&"fail"!==
a.ajaxState(l)||(x.load("/gp/product/features/apparel-main-image/360.html",g),a.ajaxState(l,"sent"))}function D(){return k&&a.isDefined(k.spin360ConfigEnabled)&&k.spin360ConfigEnabled}function w(b){return a.isDefinedAndNotEmpty(k.spin360ColorData[b])?!0:a.isDefined(k.spin360LazyLoadEnabled)&&k.spin360LazyLoadEnabled}function y(){ha&&(f.time("dppc_duration360",Date.now()-n,k.mediaAsin),q.postTimeMetric("dppc_duration360",Date.now()-n),ha=!1)}function S(a){a=k.colorToAsin[a.color]&&k.colorToAsin[a.color].asin;
a||(a=k.mediaAsin);return a}var K,k,F,W,m,r,L,H,ca,da,V,la,ea=!1,ma=!1,O=0,Z=0,n=0,T=0,ka=!1,ba=!1,h=0,Y,ja=!0,ha=!1,I=!0,U=d.once(function(){t.attachImmersiveViewResizeHandler(C);t.attachImmersiveViewResizeHandler(G);t.attachImmersiveViewResetHandler(y);t.attachTabDeselectHandler("iv360Tab",y)});return function(b,g,h,l){K=this;k=b;F=g;W=l;b=k.landingAsinColor;g=k.defaultColor;a.isDefined(k.staticImages.icon360)&&c("#imageBlock #altImages ul").find(".360IngressTemplate").find("img").attr("src",t.addStyleCodeToURL(k.staticImages.icon360,
"_FMpng_RI_"));D()&&(k.spin360ColorData||(k.spin360ColorData={}),b===g&&a.isDefinedAndEmpty(k.spin360ColorData[g])&&delete k.spin360ColorData[g]);d.on(B.TWISTER_DATA_EVENT,function(a){S(F.getCurrentItem())===a&&(r=p.getData(a),aa(),a={type:"updatedData",data:F.getCurrentItem()},W.dispatch("updateView",a))});K.render=function(b,g,h,l,m,n){I=!0;!D()||a.isDefinedAndEmpty(k.spin360ColorData[b])&&!p.getData(S(F.getCurrentItem()))?t.hideTabHeading("iv360TabHeading"):(k.spin360ColorData[b]=p.getData(S(F.getCurrentItem())),
a.isDefinedAndNotEmpty(k.spin360ColorData[b])?(c("#ivThumbs360").hide(),t.unhideTabHeading("iv360TabHeading"),a.isImmersiveViewEnabled(k,F.getCurrentItem().color)&&D()&&w(b)&&(g===k.maxAlts&&(b=l.find(".item.imageThumbnail"),g=l.find(".item.videoThumbnail"),a.isDefined(g)&&1<g.length?g.last().remove():b.last().remove()),b=l.find(".360IngressTemplate").clone().removeClass("360IngressTemplate").removeClass("aok-hidden").addClass("item"),d.declarative.create(b,"button-360-click"),l.append(b),f.count("dppc_display360",
k.mediaAsin),q.postCountMetric("dppc_display360"))):a.isDefined(k.spin360LazyLoadEnabled)&&k.spin360LazyLoadEnabled?(k.spin360ColorData[b]={},t.hideTabHeading("iv360TabHeading"),v(l,g,b)):t.hideTabHeading("iv360TabHeading"))};K.update=function(a){};t.attachTabSelectHandler("iv360Tab",C)}});B.register("nexusLogger360",function(){return{count:function(d,c){q.ue&&q.ue.event({asin:c,metricName:d,metricValue:1},"hit-360","hit360.clientEvent.3")},time:function(d,c,a){q.ue&&q.ue.event({asin:a,metricName:d,
metricValue:c},"hit-360","hit360.clientEvent.3")}}});B.register("hit-spin360-constants",function(){return{TWISTER_DATA_EVENT:"spin360TwisterData"}});B.when("A","hit-spin360-constants").register("hit-spin360-feature-data",function(d,c){var a={};return{setData:function(q){var f=q.asin;a[f]||(a[f]=q,d.trigger(c.TWISTER_DATA_EVENT,f))},getData:function(c){return a[c]}}});"use strict";B.when("postMetric").register("ImageBlockImmersiveViewShowroom",function(d){function c(){this.render=function(){};this.update=
function(){}}return function(a,q,f,G){var t=!1,p=new c;B.now("showroom-image-block-view").execute("showroom-image-block-view-decider",function(c){c!==sa&&(t=!0,p=new c(a,q,f,G))});a&&!0===a.showroomEnabled&&!1===t&&d.postCountMetric("showroom:atf:imageBlock:hiddenDueToAssetsNotPresentInTime");return p}});"use strict";B.when("A","jQuery","imageBlockUtils","postMetric","imageBlockImmersiveViewUtils","vse_ns_preLoaderHook","vse_ns_lazyLoaderHook").register("ImageBlockImmersiveViewVideos",function(d,
c,a,x,f,B,t){function p(){v.delegate(".ivThumb","click",function(){var a=c(this);v.find(".ivThumb").removeClass("selected");a.addClass("selected");a.hasClass("ivThumbVideo")&&(D.type="chromeful-video",D.index=a.attr("id").split("_")[1])})}function G(){if(ea){var a=c("#ivVideosTab").height();v.css("height",a);var d=v.find(".vse-lb-container");w=a-f.getDimension(d,"padding-top")-f.getDimension(d,"padding-bottom");d.css({"max-height":a,overflow:"hidden"});if(ca){v.css({"max-width":Math.floor(1.77*w)});
return}a=v.find(".vse-player-container");d=v.find(".vse-video-action-strip");var g=v.find(".vse-lb-video-metadata"),h=Math.floor(w-f.getDimension(g,"height")-f.getDimension(d,"height")),k=Math.floor(1.77*h);a.css({"max-height":h,"max-width":k,marginLeft:"auto",marginRight:"auto"});g.css({"max-width":k,marginLeft:"auto",marginRight:"auto"});d.css({"max-width":k,marginLeft:"auto",marginRight:"auto"})}da&&(a=v.find(".vse-vertical-scroll"),d=f.getDimension(a,"margin-top")+f.getDimension(a,"margin-bottom"),
a.css("max-height",w-d))}function na(){P();y&&y.pause();V=!1;L=!0;F=null;la=!0;ea=!1}function P(){V=!1;y&&y.pause()}function Q(f){F=f.clickTimeStamp?f.clickTimeStamp:d.now();a.isDefined(C)&&(C.eventTimestamp=F);V=!0;H&&(t.get(d,"#ivVideoBlock",z,ba,h),v=c("#ivVideoBlock"),g.getCurrentItem(),D=g.getCurrentItem(),n(),X());G();H=!1;R()}function M(a){H&&(v=c("#ivVideoBlock"),g.getCurrentItem(),D=g.getCurrentItem(),n());V&&R();G()}function N(a){y=a.player;x.postTimeMetric("vse_ib_desktop_player_initialisation_duration",
d.now()-Z);l.imageBlockRenderingStartTime&&x.postTimeMetric("vse_ib_desktop_time_to_player_interactive",d.now()-l.imageBlockRenderingStartTime);ea&&(X(),R())}function R(){if(y&&V&&(v.find(".vse-lb-container").animate({opacity:1},200),y.play(C),x.postCountMetric("dpcc_vse_videoBlock_video_played"),L)){var a=q.ue;a&&(a=a.count("dpcc_vse_videoingressclick"),a=(new Date).getTime()-a,x.postTimeMetric("dpcc_vse_vitff",a),L=!1)}}function aa(){d.trigger("vse:detailpage-imageblock:page:lightBoxClosed")}function ia(a){S=
a.popover.$popover;ea=!0;X()}function X(){if(ea&&la&&V&&y){S.addClass(d.$(S).find(".vse-lb-container").data("cssClass"));var a=C;ma&&(a=O,ma=!1);d.trigger("vse:detailpage-imageblock:page:lightBoxOpened",{lightBoxId:"ivVideoBlock",assetSpec:a});G();la=!1}}function fa(a){document.getElementsByClassName("videoBlockIngress")[0].click();O=a;ma=!0}var J,l,g,z,C,v,D,w,y,S,K,k,F,W,m,r,L=!0,H=!0,ca=!1,da=!1,V=!1,la=!0,ea=!1,ma=!1,O,Z=0,n=d.once(function(){p();f.attachImmersiveViewResizeHandler(M);f.attachTabDeselectHandler("ivVideosTab",
P);f.attachImmersiveViewResetHandler(na)}),T=function(d,f,h){c("#ivVideoBlockSpinner").addClass("aok-hidden");x.postCountMetric("dpcc_vse_videoBlock_preload_failed_"+f.placement);d=g.getCurrentItem().color;d=a.getVideoHash(d,0,l);y||(y=a.createAiryInstanceForChromeful(c("#ivVideoBlock"),d,l.airyConfig,"ImmersiveView"));ca=!0;c("#ivVideoBlock").css({"max-width":1.77*w,margin:"0 auto"});V&&ca&&y.play({isAsync:!0})},ka=function(a,d,f){H||t.get(a,"#ivVideoBlock",z,ba,h);c("#ivVideoBlockSpinner").addClass("aok-hidden")},
ba=function(a,d,c){da=!0;G()},h=function(a,d,c){x.postCountMetric("dpcc_vse_videoBlock_lazyload_failed_"+d.pageContext.placement+"_"+d.configuration.type)};return function(c,h,n,p){J=this;l=c;g=h;J.render=function(c,b,h,n,p,q){c=g.getCurrentItem().color;b=a.getVideoHash(c,0,l);!0===q?K=l.mediaAsin:(K=l.colorToAsin[c]&&l.colorToAsin[c].asin,K=a.isDefined(K)?K:l.mediaAsin);k=null!==l.vseVideoDataSourceTreatment&&"T1"===l.vseVideoDataSourceTreatment?"ASIN":"physicalID";W=l.contentWeblab;m=l.contentWeblabTreatment;
r=l.parentAsin||"";H=!0;-1===b?f.hideTabHeading("ivVideosTabHeading"):(f.unhideTabHeading("ivVideosTabHeading"),z={page:"DetailPage",placement:"ImageBlock",device:"Desktop",marketplaceID:b.marketPlaceID,locale:b.languageCode,product:{contentID:K,contentIDType:"ASIN",parentContentID:r,parentContentIDType:"ASIN"},video:{contentID:b.mediaObjectId,contentIDType:k,videoURL:b.url,imageURL:b.slateUrl},requestId:l.dpRequestId,weblabContext:[{name:W,assignment:m,ignoreForG2S2Key:!0}],metadata:{ProductTitle:l.title}},
C={videoUrl:z.video.videoURL,contentId:z.video.contentID,duration:0,vendorCode:"",eventTimestamp:a.isDefined(F)?F:d.now(),imageUrl:z.video.imageURL,productAsin:z.product.contentID,index:0},a.isDefinedAndNotEmpty(y)&&(y.destroy(),y=null),Z=d.now(),B.get(d,"#ivVideoBlock",z,ka,T))};J.update=function(a){};f.attachTabSelectHandler("ivVideosTab",Q);d.on("vsePlayer-detailpage-imageblock",N);d.on("a:popover:afterShow:immersiveView",ia);d.on("a:popover:beforeHide:immersiveView",aa);d.on("detailpage-imageblock-leave-pip",
fa)}})});
/* ******** */
(function(b){var e=window.AmazonUIPageJS||window.P,h=e._namespace||e.attributeErrors,a=h?h("DetailPageImageBlockSubAssets@logging","DetailPageImageBlockSubAssets"):e;a.guardFatal?a.guardFatal(b)(a,window):a.execute(function(){b(a,window)})})(function(b,e,h){b.when("A","postMetric","ready").execute("feature-bullets-tailoring-metrics",function(a,c){try{var d=a.$,g=d("#featurebullets_feature_div"),k=d("#productOverview_feature_div");if(g&&0<g.length&&(c.postCountMetric("FeatureBulletsRendered.GV"),k&&
0<k.length)){c.postCountMetric("FeatureBulletsRenderedWithPO.GV");var f=d("#featurebullets_feature_div .a-expander-container");f&&0<f.length&&"feature-bullets-expander"===f.data("aExpanderName")&&(c.postCountMetric("FeatureBulletsRenderedCollapsed.GV"),a.on("a:expander:feature-bullets-expander:toggle:expand",function(a){c.postCountMetric("FeatureBulletsInteraction.Expanded")}),a.on("a:expander:feature-bullets-expander:toggle:collapse",function(a){c.postCountMetric("FeatureBulletsInteraction.Collapsed")}))}}catch(l){b.log("Feature bullets metric logging failed with error: ( "+
l+" )","ERROR","FeatureBulletsTailoringMetrics")}});"use strict";b.when("A","ImageBlockATF","ImageBlockBTF","imageBlockUtils","postMetric").execute(function(a,c,d,g,k){var f=[0,50,100,500,1E3,2E3,3E3,3500];(function(){var a=d.colorImages,c=0,b;for(b in a)a[b]&&a[b].length&&(c+=a[b].length);a="image_size_bucket:gt"+f[f.length-1];for(b=1;b<f.length;b++)if(c<=f[b]){a="image_size_bucket:"+f[b-1]+"-"+f[b];break}k.postCountMetric(a);g.addTag(a)})();(function(){var a=c.colorImages;a&&a.initial&&a.initial.length&&
(a=a.initial.length,e.ue&&ue.count&&ue.count("altImageCount",a))})();(function(){var a=d.lazyLoadExperienceDisabled;g.isDefined(d.lazyLoadExperienceDisabled)&&!a&&(k.postCountMetric("lazyLoadingExperienceOnTwisterUpdateEnabled"),g.addTag("lazyLoadingExperienceOnTwisterUpdateEnabled"))})()});"use strict";b.register("logFailedInteractionMetric",function(){return{isEnabled:!1}});b.register("postEarlyMetric",function(){return null});"use strict";b.register("postMetric",function(){return{postCountMetric:function(a){if("undefined"!==
typeof a){var c=e.ue;if(c){var b=c.count(a)||0;c.count(a,b+1)}}},postTimeMetric:function(a,b){if("undefined"!==typeof a&&"undefined"!==typeof b){var c=e.ue;c&&c.count(a,b)}},emitNexusMetric:function(a){e.ue&&ue.event&&ue.event(a,"VSEImageBlockEvents","vse.VSEImageBlockEvents.4",{ssd:!1})},buildNexusMetric:function(a,b,d,g,k,f,e,h){return{eventSource:"IBCarousel",placementContext:h,clientId:"VSE",userAgentData:navigator.userAgent,titleSessionId:"0",eventName:a,intPayload:b,videoAsin:d,videoAsinList:"",
groupType:g,pageUrl:k,pageAsin:f,weblabIds:e}}}});"use strict";b.when("A","get-resource-time","postMetric","afterLoad").execute(function(a,b,d){var c=a.state("desktop-landing-image-data");c&&(c=a.values(c),b=b.getResourceTimeByName("img",c),a.each(b,function(a){a&&(a.responseEnd!=h&&d.postCountMetric("ibDesktopLandingImageDownloadTime",e.parseInt(a.responseEnd)),a.transferSize!=h&&(0===a.transferSize?d.postCountMetric("ibDesktopLandingImageCached",1):(d.postCountMetric("ibDesktopLandingImageSizeInBytes",
e.parseInt(a.transferSize)),d.postCountMetric("ibDesktopLandingImageNotCached",1))))}))})});
/* ******** */
(function(l){var g=window.AmazonUIPageJS||window.P,r=g._namespace||g.attributeErrors,e=r?r("DetailPageImageBlockSubAssets@utils","DetailPageImageBlockSubAssets"):g;e.guardFatal?e.guardFatal(l)(e,window):e.execute(function(){l(e,window)})})(function(l,g,r){l.when("ImageBlockATF","atf").register("ImageBlockAiryLoader",function(e){function f(d){d&&(l.load.js(d),g.performance&&performance.now&&g.ue&&ue.count&&ue.count("DPAiryDownloadStartTime",g.parseInt(performance.now())))}function k(d){d&&l.load.css(d)}
var d=e.airyConfig;d===r?l.when("ImageBlockBTF").execute(function(e){d=e.airyConfig;f(d.jsUrl);k(d.cssUrl)}):(f(d.jsUrl),k(d.cssUrl))});"use strict";l.when("A","jQuery").execute(function(e,f){e.on("a:image:load:landingImage",function(){g.performance&&performance.now&&g.ue&&ue.count&&ue.count("DPLandingImageHighResDownloadTime",performance.now())});e.loadDynamicImage(f("#landingImage"))});"use strict";l.when("jQuery","imageBlockUtils").register("ImageBlockHeroUtils",function(e,f){function k(a,c){if(c.repositionHeroImage){c=
a[1];a=a[0];if(768>=(g.innerHeight||document.documentElement.clientHeight||document.body.clientHeight))c*=.7,a*=.7;else{var b=Math.max(Math.min(((g.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)-1024)/256,1),0);c*=.7+.3*b;a*=.7+.3*b}b=[c,a]}return b}function d(a,c,b){if(b.repositionHeroImage){var d=g.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;b=b.heroFocalPoint;if(f.isDefined(b)){var e=Math.max((d-Math.min(1500,a))/2,0);var k=Math.max((d-
a)/2,0);d=Math.max(Math.min(d,1500),1024);e=e-k+(d-420-23)/2-a/c[1]*b}}return e}function h(a,c,b){a=a.heroImage;return!(f.isDefined(a)&&f.isDefined(a[c])&&f.isDefined(a[c][b])&&f.isDefined(a[c][b].main))||1>e.map(a[c][b].main,function(a,b){return b}).length?-1:a[c][b]}return{getHeroImageHash:h,getHeroDimParams:function(a,c,b){if(a.repositionHeroImage){if(!f.isDefined(b)){b=h(a,c.color,c.index);if(-1===b)return;c=e.map(b.main,function(a,b){return b})[0];b=b.main[c]}c=k(b,a);a=d(c[0],b,a);return{height:c[1],
width:c[0],xPos:a,yPos:75}}}}});"use strict";l.when("A","jQuery","imageBlockUtils").register("imageBlockImmersiveViewUtils",function(e,f,k){function d(a,c){var b=e.copy(a);if(k.isDefined(a)&&a.length>c){try{for(var d=-1,h=0;h<a.length;h++){var f=a.charAt(h);if(" "===f||"."===f||"?"===f||";"===f||","===f||":"===f)d=h;if(h===c-4){b=a.substring(0,-1===d?h:d);break}}}catch(m){b=a.substring(0,c-3)}b+="..."}return b}function h(a,c){var b=a.lastIndexOf(".");return a="_"===a.charAt(b-1)?a.substring(0,b-1)+
c+a.substring(b):a.substring(0,b)+"."+c+a.substring(b)}return{getDimension:function(a,c){a=parseInt(a.css(c),10);return isNaN(a)?0:a},attachTabSelectHandler:function(a,c){e.on("dp:ivTabs:"+a+":select",c)},attachTabDeselectHandler:function(a,c){e.on("dp:ivTabs:"+a+":deselect",c)},attachImmersiveViewResizeHandler:function(a){e.on("dp:image-block:immersive-view:resize",a)},detachImmersiveViewResizeHandler:function(a){e.off("dp:image-block:immersive-view:resize",a)},attachImmersiveViewResetHandler:function(a){e.on("a:popover:afterHide:immersiveView",
a)},hideTabHeading:function(a){f("#"+a).hide()},unhideTabHeading:function(a){f("#"+a).show()},addStyleCodeToURL:h,getResizedThumbnailURL:function(a,c){a=a.replace(/\._(AA|SS)\d+_/,"").replace(/\._SX\d+_SY\d+_CR,0,0,\d+,\d+_/,"");a=a.replace(/\._(US)\d+_/,"").replace(/\._SR\d+,\d+_/,"").replace(/\._SP[0-9,C]+_/,"");a=a.replace(/\._CB\d+_SS\d+_/,"");var b="_AA50_";c&&(b+="FMpng_RI_");return h(a,b)},populateVariationSelection:function(a){if(k.isDefined(g.DetailPage)&&k.isDefined(g.DetailPage.StateController)){a.empty();
var c=g.DetailPage.StateController.getState(),b=c.variation_label_order,d;for(d in b)if(b.hasOwnProperty(d)){var e=b[d],h=c.selected_variations[e];e=c.variation_display_labels[e];h&&f("\x3cdiv/\x3e").addClass("ivVariations").text(e+":"+h).appendTo(a)}}},populateTitle:function(a,c,b){a.html(b.title);a.attr("title",a.text());a.html(d(b.title,c))},animateStageIn:function(a){a.animate({opacity:1},200)},animateStageOut:function(a,c){a.animate({opacity:.4},100,c)},logError:function(a,c,b,d){g.ueLogError&&
g.ueLogError(d,{logLevel:a,attribution:c,message:b})}}});"use strict";l.when("A").register("ImageBlockLoader",function(e){return{load:function(f,k){k=k||{};k.timeout=k.timeout||4E3;e.ajax(f,k)}}});"use strict";l.when("postMetric","imageBlockImmersiveViewUtils").execute("vse-ns-ajax-calls",function(e,f){l.register("vse_ns_preLoaderHook",function(){function k(d,h){try{var a=d.A,c=d.block,b=d.request,g=d.handleFailure,l=d.handleSuccess,p=a.$;h--;var m=3-h-1,n=a.now();a.ajax("/vap/ew/componentbuilder",
{params:b,paramsFormat:"json",crossDomain:!0,method:"post",contentType:"application/json",timeout:b.timeout||5E3,withCredentials:!0,success:function(d){var h=a.now()-n;e.postTimeMetric("vse_preLoaderHook:success:",h);e.postCountMetric("vse_preLoaderHook:success:"+b.page+":"+b.placement+":"+m);p(c).html(d);l(a,b,d)},error:function(c){e.postCountMetric("vse_preLoaderHook:error:"+b.page+":"+b.placement+":"+m);(0===c.http.status||500<=c.http.status&&599>=c.http.status)&&0<h?k(d,h):(e.postCountMetric("vse_preLoaderHook:error:",
1),g(a,b,c))}})}catch(q){f.logError("FATAL","vse_ns_desktop","[vse_ns_preLoaderHook] ",q)}}return{get:function(d,e,a,c,b){k({A:d,block:e,request:a,handleFailure:b,handleSuccess:c},3)}}});l.register("vse_ns_lazyLoaderHook",function(){function k(d,h,a){try{var c=d.A,b=d.context,g=d.handleFailure,l=d.handleSuccess;h.attr("data-configuration");var p=atob(h.attr("data-configuration")),m=JSON.parse(p),n={pageContext:b,configuration:m},q=c.now();a--;var t=3-a-1;c.ajax("/vap/ew/subcomponent/"+m.type,{params:n,
paramsFormat:"json",method:"post",contentType:"application/json",timeout:b.timeout||5E3,withCredentials:!0,success:function(a){var d=c.now()-q;e.postTimeMetric("vse_lazyLoaderHook:success:",d);e.postCountMetric("vse_lazyLoaderHook:success:"+b.page+":"+b.placement+":"+m.type+":"+t);h.html(a);l(c,n,a)},error:function(f){e.postCountMetric("vse_lazyLoaderHook:error:"+b.page+":"+b.placement+":"+m.type+":"+t);(0===f.http.status||500<=f.http.status&&599>=f.http.status)&&0<a?k(d,h,a):(e.postCountMetric("vse_lazyLoaderHook:error:",
1),g(c,n,f))}})}catch(u){f.logError("FATAL","vse_ns_desktop","[vse_ns_lazyLoaderHook] ",u)}}return{get:function(d,e,a,c,b){var f=d.$;f(e+" div[data-configuration]").each(function(){k({A:d,context:a,handleFailure:b,handleSuccess:c},f(this),3)})}}});l.register("vse_ns_videoPlayer",function(){function k(d,h,a){try{var c=d.A,b=d.block,g=d.request,l=d.handleFailure,p=d.handleSuccess,m=c.$;a--;var n=3-a-1,q=c.now();c.ajax("/vap/ew/subcomponent/vseplayer",{params:g,paramsFormat:"json",crossDomain:!0,method:"post",
contentType:"application/json",timeout:g.timeout||5E3,withCredentials:!0,success:function(a){var d=c.now()-q;e.postTimeMetric("vse_lightPlayerLoaderHook:success:",d);e.postCountMetric("vse_lightPlayerLoaderHook:success:"+g.page+":"+g.placement+":"+n);m(b).html(a);p(c,g,a)},error:function(b){e.postCountMetric("vse_lightPlayerLoaderHook:error:"+g.page+":"+g.placement+":"+n);(0===b.http.status||500<=b.http.status&&599>=b.http.status)&&0<a?k(d,a):(e.postCountMetric("vse_lightPlayerLoaderHook:error:",
1),l(c,g,b))}})}catch(t){f.logError("FATAL","vse_ns_lightPlayer","[vse_ns_lightPlayerLoaderHook] ",t)}}return{get:function(d,e,a,c,b){k({A:d,block:e,request:a,handleFailure:b,handleSuccess:c},3)}}})})});
/* ******** */
(function(k){var d=window.AmazonUIPageJS||window.P,p=d._namespace||d.attributeErrors,b=p?p("DetailPageShowroomImageBlockAssets",""):d;b.guardFatal?b.guardFatal(k)(b,window):b.execute(function(){k(b,window)})})(function(k,d,p){k.when("A","imageBlockUtils","showroom-lite-atf-feature-data","showroom-image-block-detail-page-rendering","showroom-image-block-constants","showroom-image-block-metrics").register("showroom-image-block-view",function(b,f,m,g,e,a){function c(h){h.interaction===p.MOUSE_ENTER&&
h.type===e.SHOWROOM_THUMBNAIL_TYPE&&g.isShowroomMainImageHidden()&&a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_THUMBNAIL_HOVER)}function d(b,e){var d=new Date;b.interaction=e.type;b.isUserGenerated=!0;if(f.isImageBlockGridViewHoverDelayEnabled()){if("mouseenter"===e.type&&m.isDataValidForAsin(u(b))&&(c(b),q&&clearTimeout(q),q=setTimeout(function(){var a=m.getDataForAsin(u(b)).imageData;g.updateMainImage(h,a,r);g.showShowroomMainImage(h);n.usePeekHover||f.selectGivenThumbnail(e.$declarativeParent,
x)},f.getHoveringDelayTimer())),"mouseleave"===e.type&&q&&clearTimeout(q),"click"===e.type){if(m.isDataValidForAsin(u(b))){var l=m.getDataForAsin(u(b)).imageData;g.updateMainImage(h,l,r);g.showShowroomMainImage(h)}f.selectGivenThumbnail(e.$declarativeParent,x);f.useTabbedImmersiveView(n)&&g.handleShowroomThumbnailClick(e)}}else m.isDataValidForAsin(u(b))&&(c(b),l=m.getDataForAsin(u(b)).imageData,g.updateMainImage(h,l,r),g.showShowroomMainImage(h)),n.usePeekHover&&"click"!==e.type||(f.selectGivenThumbnail(e.$declarativeParent,
x),"click"===e.type&&f.useTabbedImmersiveView(n)&&g.handleShowroomThumbnailClick(e));a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE_HANDLE_THUMBNAIL_EVENT,new Date-d)}function u(a){a=n.colorToAsin[a.color].asin;a||(a=n.mediaAsin);return a}var k=void 0,n=void 0,l=void 0,r=void 0,x=void 0,h=void 0,y=void 0,q=void 0,v=void 0,p={SWATCH_HOVER:"swatchHover",MOUSE_ENTER:"mouseenter"};return function(c,q,t,z){t=new Date;k=this;n=c;l=q;r=z;b.on(e.TWISTER_DATA_EVENT,function(a){u(l.getCurrentItem())===
a&&(a={type:"updatedData",data:l.getCurrentItem()},r.dispatch("updateView",a))});k.render=function(e,f,c,d,k,q){e=new Date;x=d;h=k.find("#main-showroom-container");h.parent().find("#showroom-canvas-caption");b.$("#main-image-container");try{var w=u(l.getCurrentItem());if(m.isDataValidForAsin(w)){var p=new Date,t=m.getDataForAsin(w);g.refresh(r,t.asin,t.defaultStageId);a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_GET_DATA_FOR_ASIN,new Date-p);if(!q){var B=new Date;g.updateMainImage(h,
t.imageData,r);a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UPDATE_MAIN_IMAGE,new Date-B)}var v=new Date;f=g.createThumbnail(n,d,f,t.imageData);a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_CREATE_THUMBNAIL,new Date-v);var z=new Date;b.$("#ivShowroomTabHeading").removeClass("aok-hidden");a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UNHIDE_TAB_HEADING,new Date-z);if(w!==y){var A=new Date;a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_FEATURE_RENDERED);var C=
a.createShowroomAtfEvent(t.defaultStageId,w,a.EVENT_NAMES.IMAGEBLOCK_LOAD,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(C);y=w;a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_LOG_EVENT,new Date-A)}}else b.$("#ivShowroomTabHeading").addClass("aok-hidden")}catch(E){b.$("#ivShowroomTabHeading").addClass("aok-hidden")}a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER,new Date-e);return f};k.update=function(b){var r=new Date;try{var c=b.data;l.setCurrentEvent(b);c.type===e.SHOWROOM_THUMBNAIL_TYPE?
d(c,b):c.type!==e.SHOWROOM_MAIN_IMAGE_TYPE&&(b.type===p.SWATCH_HOVER?c.color===l.getCurrentItem().color&&l.getCurrentItem().type===e.SHOWROOM_THUMBNAIL_TYPE?g.showShowroomMainImage(h):g.hideShowroomMainImage(h):f.isImageBlockGridViewHoverDelayEnabled()?(l.setToPreviousItem(),"mouseenter"===b.type&&(v&&clearTimeout(v),v=setTimeout(function(){l.setToCurrentItem(c);g.hideShowroomMainImage(h)},f.getHoveringDelayTimer())),"mouseleave"===b.type&&v&&clearTimeout(v),"click"===b.type&&(l.setToCurrentItem(c),
g.hideShowroomMainImage(h))):g.hideShowroomMainImage(h))}catch(D){}a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE,new Date-r)};(c=document.getElementById("ivShowroomTabHeading"))&&c.addEventListener("click",function(b){a.addOne(a.COUNTER_NAMES.TAB_SELECT);b=m.getDataForAsin(y).defaultStageId;b=a.createShowroomAtfEvent(b,y,a.EVENT_NAMES.IMMERSIVE_VIEW_TAB_CLICK,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(b)});a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_INVOKE,new Date-t)}});
"use strict";k.register("showroom-image-block-constants",function(){return{SHOWROOM_THUMBNAIL_TYPE:"showroom-image",SHOWROOM_MAIN_IMAGE_TYPE:"showroom-main-image",TWISTER_DATA_EVENT:"showroomTwisterData",STRING_IDS:{MAIN_IMAGE_OVERLAY_TEXT:"showroom_dp_imageblock_atf_main_image_overlay_text",MAIN_IMAGE_OVERLAY_BUTTON_TEXT:"showroom_dp_imageblock_atf_main_image_overlay_text_T2",MAIN_IMAGE_OVERLAY_ICON_URL:"showroom_dp_imageblock_atf_main_image_overlay_icon_url"}}});"use strict";k.when("A","jQuery",
"imageBlockUtils","showroom-lite-atf-feature-data","showroom-image-block-constants","showroom-image-block-metrics").register("showroom-image-block-detail-page-rendering",function(b,f,m,g,e,a){function c(b){a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_MAIN_IMAGE_SELECT);var c=a.createShowroomAtfEvent(n,k,a.EVENT_NAMES.IMAGEBLOCK_MAIN_IMAGE_CLICK,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(c);d(b)}function d(a){a.action="showroomIngressClick";a.data=l;p.dispatch("showroomIngressClick",a)}var k,p,
n,l;return{createThumbnail:function(a,b,c,f){c===a.maxAlts&&(b.find(".item.imageThumbnail").last().remove(),c--);l={type:"showroomIngress",index:0,thumbnailIndex:c,variant:f.variant};m.createThumbnail({type:e.SHOWROOM_THUMBNAIL_TYPE,index:0,thumbnailIndex:c,variant:f.variant},f.thumb,b,"showroom-imageblock-thumbnail");c++;return c},updateMainImage:function(a,d){var h=a.find("#showroom-main-image");h.length?h.attr("src",d.hiRes):(h=g.getStringValue(e.STRING_IDS.MAIN_IMAGE_OVERLAY_BUTTON_TEXT),h=f(('\x3cdiv id\x3d"showroom-main-image-container"\x3e                    \x3cbutton class\x3d"a-button" style\x3d"border-width: 0"\x3e\n                        \x3cimg src\x3d"'+
d.hiRes+'" id\x3d"showroom-main-image" alt\x3d"'+h+'"/\x3e                    \x3c/button\x3e\n                \x3c/div\x3e').trim()),h.appendTo(a),b.declarative.create(a,"showroom-image-action",l),b.declarative("showroom-image-action",["click"],c),h.addClass("image-gradient-hue"),d=g.getStringValue(e.STRING_IDS.MAIN_IMAGE_OVERLAY_TEXT),h=g.getStringValue(e.STRING_IDS.MAIN_IMAGE_OVERLAY_BUTTON_TEXT),f(('\x3cdiv id\x3d"showroom-main-image-overlay-container"\x3e                    \x3cdiv style\x3d"padding-bottom: 7px;width: 40%;"\x3e                        \x3cspan id\x3d"showroom-main-image-overlay-subtext"\x3e'+
d+'\x3c/span\x3e                    \x3c/div\x3e                    \x3cbutton class\x3d"a-button a-button-base"\x3e                        \x3cspan class\x3d"a-button-inner"\x3e                            \x3cspan class\x3d"a-button-text" id\x3d"showroom-main-image-overlay-button"\x3e                                \x3cimg id\x3d"showroom-main-image-overlay-icon" src\x3d"https://m.media-amazon.com/images/G/01/showroom/icon-lightbulb._CB628497379_.png" alt\x3d""/\x3e'+h+"\n                            \x3c/span\x3e                        \x3c/span\x3e                    \x3c/button\x3e                \x3c/div\x3e").trim()).appendTo(a))},
hideShowroomMainImage:function(a){a.parent().css("z-index",-1);a.parent().addClass("aok-hidden")},showShowroomMainImage:function(a){a.parent().css("z-index",2);a.parent().removeClass("aok-hidden")},isShowroomMainImageHidden:function(){return f("#showroom-outer-container").hasClass("aok-hidden")},handleShowroomIngressClick:d,handleShowroomThumbnailClick:function(b){a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_THUMBNAIL_SELECT);var c=a.createShowroomAtfEvent(n,k,a.EVENT_NAMES.IMAGEBLOCK_THUMBNAIL_CLICK,
a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(c);d(b)},handleShowroomMainImageClick:c,refresh:function(a,b,c){p=a;k=b;n=c}}});"use strict";k.when("A").register("showroom-image-block-metrics",function(b){return{EVENT_NAMES:{IMAGEBLOCK_LOAD:"srm_atf_imageBlock_load",IMAGEBLOCK_THUMBNAIL_CLICK:"srm_atf_thumbnail_click",IMAGEBLOCK_MAIN_IMAGE_CLICK:"srm_atf_main_image_click",IMMERSIVE_VIEW_TAB_CLICK:"srm_atf_iv_tab_click"},COUNTER_NAMES:{SHOWROOM_IMAGEBLOCK_FEATURE_RENDERED:"showroom:atf:imageBlock:feature:render",
SHOWROOM_IMAGEBLOCK_THUMBNAIL_HOVER:"showroom:atf:imageBlock:thumbnail:hover",SHOWROOM_IMAGEBLOCK_THUMBNAIL_SELECT:"showroom:atf:imageBlock:thumbnail:select",SHOWROOM_IMAGEBLOCK_MAIN_IMAGE_SELECT:"showroom:atf:imageBlock:mainImage:select",SHOWROOM_IMAGEBLOCK_FAILED_TO_INITIALIZED_WEBLAB_TRIGGER:"showroom:atf:imageBlock:failedToInitializeWeblabTrigger",TAB_SELECT:"showroom:atf:tab:select"},STATUS_TYPES:{SUCCESS:"success",ERROR:"error"},TIMER_NAMES:{SHOWROOM_IMAGEBLOCK_LATENCY_INVOKE:"showroom:atf:imageBlock:latency:invoke",
SHOWROOM_IMAGEBLOCK_LATENCY_LOAD:"showroom:atf:imageBlock:latency:load",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER:"showroom:atf:imageBlock:latency:render",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_GET_DATA_FOR_ASIN:"showroom:atf:imageBlock:latency:render:getDataForAsin",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UPDATE_MAIN_IMAGE:"showroom:atf:imageBlock:latency:render:updateMainImage",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_CREATE_THUMBNAIL:"showroom:atf:imageBlock:latency:render:createThumbnail",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UTIL_CREATE_THUMBNAIL:"showroom:atf:imageBlock:latency:render:utilCreateThumbnail",
SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UNHIDE_TAB_HEADING:"showroom:atf:imageBlock:latency:render:unhideTabHeading",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_LOG_EVENT:"showroom:atf:imageBlock:latency:render:logEvent",SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE:"showroom:atf:imageBlock:latency:update",SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE_HANDLE_THUMBNAIL_EVENT:"showroom:atf:imageBlock:latency:update:handleThumbnailEvent"},addOne:function(b){try{if(d.ue&&b){var f=(d.ue.count(b)||0)+1;d.ue.count(b,f)}}catch(g){}},logValue:function(b,
m){try{d.ue&&b&&"number"===typeof m&&d.ue.count(b,m)}catch(g){}},createShowroomAtfEvent:function(f,d,g,e){var a={};a.showroomId=f;a.asin=d;a.eventType=g;a.status=e;a.device=b.capabilities?b.capabilities.isAmazonApp?"AmazonApp":b.capabilities.mobile?"mobile":b.capabilities.tablet?"tablet":"desktop":"";a.userAgent=navigator?navigator.userAgent:"";a.producerId="showroom_atf";a.schemaId="com.amazon.showroom.ingress.clientEvent.3";return a},logShowroomAtfEvent:function(b){try{d.ue&&d.ue.event&&b&&d.ue.event(b,
"showroom_atf","com.amazon.showroom.ingress.clientEvent.3")}catch(m){}}}});"use strict";k.when("A","showroom-image-block-constants").register("showroom-lite-atf-feature-data",function(b,d){function f(){return e[a]}function g(a){return a in e}var e={},a;return{setData:function(c){c&&c.asin&&c.imageDomain&&c.defaultCollageUrl&&c.defaultStageId&&Array.isArray(c.itemMainImagePhysicalIds)&&(a=c.asin,g(c.asin)||(e[c.asin]=c,b.trigger(d.TWISTER_DATA_EVENT,c.asin)))},getDataForCurrentAsin:f,getDataForAsin:function(a){return e[a]},
getStringValue:function(a){return f().displayStrings?f().displayStrings[a]:""},isDataValidForAsin:g}})});
/* ******** */
(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("DetailPagePaymentOptionsJavascript",""):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
